<!DOCTYPE html>
<section id="authorization" class="normative">
  <h2>Authorization</h2>
  <p>Implementations MUST support OAuth 2.0 Client Credentials based authorization.</p>

  <p>
    Client Credentials Grant is appropriate for verifying trusted application authorization for Internal/External APIs.
  </p>

  <p>See these links for more information on Machine to Machine API authorization:</p>

  <ul>
    <li>
      <a href="https://datatracker.ietf.org/doc/html/rfc6749#section-4.4"> RFC6749 &mdash; Client Credentials Grant </a>
    </li>
    <li>
      <a href="https://developer.okta.com/docs/guides/implement-client-creds/overview/"
        >Okta &mdash; Client Credentials flow</a
      >
    </li>

    <li>
      <a href="https://auth0.com/machine-to-machine"
        >Auth0 &mdash; Simplify Communication Between APIs and Trusted Services</a
      >
    </li>
  </ul>

  <section id="presentation-authentication">
    <h3>Presentation Authentication</h3>
    <p>
      This API specification describes two ways in which presentations from a holder to a verifier can be authenticated: 
    </p>
    <ul>
      <li>
        <a href="https://w3c-ccg.github.io/vp-request-spec/#did-authentication">DID Authentication</a>,
        sometimes referred to as DIDAuth, where the holder 
        demonstrates control over a DID by signing over a challenge provided by the verifier. 
        Holder binding happens for each presentation: the holder requests a 
        <a href="https://w3c-ccg.github.io/traceability-interop/openapi/#post-/presentations/available">challenge</a> from 
        the verifier, and <a href="https://w3c-ccg.github.io/traceability-interop/openapi/#post-/presentations/prove">signs</a> 
        a Verifiable Presentation based on that challenge, which is then
        <a href="https://w3c-ccg.github.io/traceability-interop/openapi/#post-/presentations/submissions">submitted</a> to 
        the verifier. 
      </li>
      <li>
        <a href="https://www.rfc-editor.org/rfc/rfc6749.html">OAuth 2.0</a>, where the verifier esablishes binding by 
        providing client id and secret to the holder.
        At time of presentation, the holder authenticates by obtaining an 
        <a href="https://w3c-ccg.github.io/traceability-interop/openapi/#auth">access token</a> through the client 
        credentials flow. Subsequent <a href="https://w3c-ccg.github.io/traceability-interop/openapi/#post-/presentations">
        presentations</a> are made with the access token in the request header. 
      </li>
    </ul>
  </section>

  <section id="scopes" class="normative">
    <h3>Scopes</h3>

    <table class="simple">
      <tr>
        <th>Scope</th>
        <th>Description</th>
      </tr>
      <tr id="#read:presentations">
        <td>read:presentations</td>
        <td>
          <p>Grants permission to read submitted presentations</p>
          <a href="https://w3id.org/traceability/interoperability#read:presentations"
            >https://w3id.org/traceability/interoperability#read:presentations</a
          >
        </td>
      </tr>
      <tr id="#resolve:dids">
        <td>resolve:dids</td>
        <td>
          <p>Grants permission to resolve DIDs</p>
          <a href="https://w3id.org/traceability/interoperability#resolve:dids"
            >https://w3id.org/traceability/interoperability#resolve:dids</a
          >
        </td>
      </tr>
      <tr id="#issue:credentials">
        <td>issue:credentials</td>
        <td>
          <p>Grants permission to issue Verifiable Credentials</p>
          <a href="https://w3id.org/traceability/interoperability#issue:credentials"
            >https://w3id.org/traceability/interoperability#issue:credentials</a
          >
        </td>
      </tr>
      <tr id="#verify:credentials">
        <td>verify:credentials</td>
        <td>
          <p>Grants permission to verify Verifiable Credentials</p>
          <a href="https://w3id.org/traceability/interoperability#verify:credentials"
            >https://w3id.org/traceability/interoperability#verify:credentials</a
          >
        </td>
      </tr>
      <tr id="#read:credentials">
        <td>read:credentials</td>
        <td>
          <p>Grants permission to get Verifiable Credentials</p>
          <a href="https://w3id.org/traceability/interoperability#read:credentials"
            >https://w3id.org/traceability/interoperability#read:credentials</a
          >
        </td>
      </tr>
      <tr id="#update:credentials">
        <td>update:credentials</td>
        <td>
          <p>Grants permission to update the status of Verifiable Credentials</p>
          <a href="https://w3id.org/traceability/interoperability#update:credentials"
            >https://w3id.org/traceability/interoperability#update:credentials</a
          >
        </td>
      </tr>
      <tr id="#prove:presentations">
        <td>prove:presentations</td>
        <td>
          <p>Grants permission to prove Verifiable Presentations</p>
          <a href="https://w3id.org/traceability/interoperability#prove:presentations"
            >https://w3id.org/traceability/interoperability#prove:presentations</a
          >
        </td>
      </tr>
      <tr id="#verify:presentations">
        <td>verify:presentations</td>
        <td>
          <p>Grants permission to verify Verifiable Presentations</p>
          <a href="https://w3id.org/traceability/interoperability#verify:presentations"
            >https://w3id.org/traceability/interoperability#verify:presentations</a
          >
        </td>
      </tr>
      <tr id="#submit:presentations">
        <td>submit:presentations</td>
        <td>
          <p>Grants permission to submit Verifiable Presentations</p>
          <a href="https://w3id.org/traceability/interoperability#submit:presentations"
            >https://w3id.org/traceability/interoperability#submit:presentations</a
          >
        </td>
      </tr>
    </table>
  </section>
</section>
