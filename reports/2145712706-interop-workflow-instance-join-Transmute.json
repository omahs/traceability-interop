{
  "collection": {
    "info": {
      "_postman_id": "6f3afe3d-f721-48df-82f7-eb3d3936f320",
      "name": "eCommerce - Workflow Instance Join",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
      {
        "id": "fc658c43-869d-4e52-b825-527098afeb1d",
        "name": "00 - Importer Access Token",
        "request": {
          "url": {
            "host": [
              "{{ORG_1_TOKEN_ENDPOINT}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"audience\": \"{{ORG_1_TOKEN_AUDIENCE}}\",\n    \"client_id\": \"{{ORG_1_CLIENT_ID}}\",\n    \"client_secret\": \"{{ORG_1_CLIENT_SECRET}}\",\n    \"grant_type\": \"client_credentials\"\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "ffdaaa26-685a-4265-a598-8c801380ffb6",
              "type": "text/javascript",
              "exec": [
                "pm.environment.set(\"org_1_access_token\", pm.response.json().access_token);",
                "",
                "pm.test(\"Importer application has access token\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "c5118572-b737-4c96-ac04-0492b127635a"
            }
          }
        ]
      },
      {
        "id": "a6b0af20-2baa-404a-8507-e8373e32af55",
        "name": "00 - Freight Forwarder Access Token",
        "request": {
          "url": {
            "host": [
              "{{ORG_2_TOKEN_ENDPOINT}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"audience\": \"{{ORG_2_TOKEN_AUDIENCE}}\",\n    \"client_id\": \"{{ORG_2_CLIENT_ID}}\",\n    \"client_secret\": \"{{ORG_2_CLIENT_SECRET}}\",\n    \"grant_type\": \"client_credentials\"\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "34c097b7-474e-4545-9c9b-645c0541ea6e",
              "type": "text/javascript",
              "exec": [
                "pm.environment.set(\"org_2_access_token\", pm.response.json().access_token);",
                "",
                "pm.test(\"Freight Forwarder application has access token\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "7aeb6a6f-30cd-4bc6-b534-2897d6d36245"
            }
          }
        ]
      },
      {
        "id": "39933415-f60c-43e5-94cc-fd045d15e66f",
        "name": "00 - Customs Access Token",
        "request": {
          "url": {
            "host": [
              "{{ORG_3_TOKEN_ENDPOINT}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"audience\": \"{{ORG_3_TOKEN_AUDIENCE}}\",\n    \"client_id\": \"{{ORG_3_CLIENT_ID}}\",\n    \"client_secret\": \"{{ORG_3_CLIENT_SECRET}}\",\n    \"grant_type\": \"client_credentials\"\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "552c549b-4363-4438-ad9f-0b1c1f7aa2de",
              "type": "text/javascript",
              "exec": [
                "pm.environment.set(\"org_3_access_token\", pm.response.json().access_token);",
                "",
                "pm.test(\"Customs application has access token\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "bedf259e-cd99-4a0b-8189-b849e90c08e6"
            }
          }
        ]
      },
      {
        "id": "6cad0337-4b7f-4bcb-99bb-400927906f95",
        "name": "00 - Get Importer Exchange Endpoint",
        "request": {
          "url": {
            "path": [
              "identifiers",
              "{{ORG_1_DID_WEB}}"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "c93fbf5b-1bd2-4d71-8f69-9d9e7d6807b3",
              "type": "text/javascript",
              "exec": [
                "const { didDocument } = pm.response.json()",
                "pm.environment.set(\"org_1_holder\", didDocument.alsoKnownAs[1]);",
                "pm.environment.set(\"org_1_tenant_url\", didDocument.services[0].serviceEndpoint);",
                "",
                "pm.test(\"Importer has holder DID\", function () {",
                "     pm.expect(pm.environment.get(\"org_1_holder\")).to.not.be.undefined;",
                "});",
                "",
                "pm.test(\"Importer has service endpoint\", function () {",
                "     pm.expect(pm.environment.get(\"org_1_tenant_url\")).to.not.be.undefined;",
                "});"
              ],
              "_lastExecutionId": "ba364b89-a8d8-493d-bfb1-e32b99dc357d"
            }
          }
        ]
      },
      {
        "id": "14b39844-3228-4cdb-99ff-1941aaf04631",
        "name": "00 - Get Freight Forwarder Exchange Endpoint",
        "request": {
          "url": {
            "path": [
              "identifiers",
              "{{ORG_2_DID_WEB}}"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "29958538-abe3-4550-9fc9-06c544373642",
              "type": "text/javascript",
              "exec": [
                "const { didDocument } = pm.response.json()",
                "pm.environment.set(\"org_2_holder\", didDocument.alsoKnownAs[1]);",
                "pm.environment.set(\"org_2_tenant_url\", didDocument.services[0].serviceEndpoint);",
                "",
                "pm.test(\"Freight Forwarder has holder DID\", function () {",
                "     pm.expect(pm.environment.get(\"org_2_holder\")).to.not.be.undefined;",
                "});",
                "",
                "pm.test(\"Freight Forwarder has service endpoint\", function () {",
                "     pm.expect(pm.environment.get(\"org_2_tenant_url\")).to.not.be.undefined;",
                "});"
              ],
              "_lastExecutionId": "02af10ce-3b8e-4277-82cb-ad4f403b9d55"
            }
          }
        ]
      },
      {
        "id": "958e7c0c-eba5-4485-90e1-5e24b7eb2ec2",
        "name": "00 - Get Customs Exchange Endpoint",
        "request": {
          "url": {
            "path": [
              "identifiers",
              "{{ORG_3_DID_WEB}}"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "b88324d6-de9d-485f-8e2a-962ae42f6841",
              "type": "text/javascript",
              "exec": [
                "const { didDocument } = pm.response.json()",
                "pm.environment.set(\"org_3_holder\", didDocument.alsoKnownAs[0]);",
                "pm.environment.set(\"org_3_tenant_url\", didDocument.services[0].serviceEndpoint);",
                "",
                "pm.test(\"Customs has holder DID\", function () {",
                "     pm.expect(pm.environment.get(\"org_3_holder\")).to.not.be.undefined;",
                "});",
                "",
                "pm.test(\"Customs has service endpoint\", function () {",
                "     pm.expect(pm.environment.get(\"org_3_tenant_url\")).to.not.be.undefined;",
                "});"
              ],
              "_lastExecutionId": "bd9feb9e-470a-460c-b917-1d0edda176f0"
            }
          }
        ]
      },
      {
        "id": "ac055e4c-5b77-443c-8021-28e4caed1258",
        "name": "01 - Importer - Issue Proforma Invoice",
        "request": {
          "url": {
            "path": [
              "credentials",
              "issue"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"credential\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiableCredential\",\n            \"CommercialInvoiceCertificate\"\n        ],\n        \"name\": \"Commercial Invoice Certificate\",\n        \"issuanceDate\": \"2022-02-23T11:55:00Z\",\n        \"issuer\": {\n            \"id\": \"{{org_1_holder}}\",\n            \"type\": [\n                \"Organization\"\n            ],\n            \"address\": {\n                \"type\": [\n                    \"PostalAddress\"\n                ],\n                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                \"addressLocality\": \"Tsubame-shi\",\n                \"addressRegion\": \"Niigata-ken\",\n                \"postalCode\": \"959-0215\",\n                \"addressCountry\": \"Japan\"\n            }\n        },\n        \"credentialSubject\": {\n            \"type\": [\n                \"Invoice\"\n            ],\n            \"portOfEntry\": {\n                \"type\": \"Place\",\n                \"unLocode\": \"USLGB\"\n            },\n            \"destinationCountry\": \"MEX\",\n            \"purchaseDate\": \"2021-02-21\",\n            \"seller\": {\n                \"type\": [\n                    \"Organization\"\n                ],\n                \"address\": {\n                    \"type\": [\n                        \"PostalAddress\"\n                    ],\n                    \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                    \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                    \"addressLocality\": \"Tsubame-shi\",\n                    \"addressRegion\": \"Niigata-ken\",\n                    \"postalCode\": \"959-0215\",\n                    \"addressCountry\": \"Japan\"\n                }\n            },\n            \"buyer\": {\n                \"type\": [\n                    \"Organization\"\n                ],\n                \"address\": {\n                    \"type\": [\n                        \"PostalAddress\"\n                    ],\n                    \"organizationName\": \"Generic Motors of America\",\n                    \"streetAddress\": \"12 Generic Motors Dr\",\n                    \"addressLocality\": \"Detroit\",\n                    \"addressRegion\": \"Michigain\",\n                    \"postalCode\": \"48232-5170\",\n                    \"addressCountry\": \"USA\"\n                }\n            },\n            \"shipToParty\": {\n                \"type\": [\n                    \"Organization\"\n                ],\n                \"address\": {\n                    \"type\": [\n                        \"PostalAddress\"\n                    ],\n                    \"organizationName\": \"Generic Motors of America\",\n                    \"streetAddress\": \"12 Generic Motors Dr\",\n                    \"addressLocality\": \"Detroit\",\n                    \"addressRegion\": \"Michigain\",\n                    \"postalCode\": \"48232-5170\",\n                    \"addressCountry\": \"USA\"\n                }\n            },\n            \"itemsShipped\": [\n                {\n                    \"type\": \"TradeLineItem\",\n                    \"product\": {\n                        \"manufacturer\": {\n                            \"type\": \"Organization\",\n                            \"address\": {\n                                \"type\": \"PostalAddress\",\n                                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                                \"addressLocality\": \"Tsubame-shi\",\n                                \"addressRegion\": \"Niigata-ken\",\n                                \"postalCode\": \"959-0215\",\n                                \"addressCountry\": \"Japan\"\n                            }\n                        },\n                        \"description\": \"UNS S30400 chromium-nickel stainless steel rolls.\",\n                        \"weight\": {\n                            \"type\": \"QuantitativeValue\",\n                            \"unitCode\": \"lbs\",\n                            \"value\": \"16500\"\n                        }\n                    },\n                    \"itemCount\": 5,\n                    \"tradeLineItemWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"value\": \"82500\",\n                        \"unitCode\": \"lbs\"\n                    },\n                    \"priceSpecification\": {\n                        \"type\": \"PriceSpecification\",\n                        \"price\": 5200,\n                        \"priceCurrency\": \"USD\"\n                    }\n                },\n                {\n                    \"type\": \"TradeLineItem\",\n                    \"product\": {\n                        \"manufacturer\": {\n                            \"type\": \"Organization\",\n                            \"address\": {\n                                \"type\": \"PostalAddress\",\n                                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                                \"addressLocality\": \"Tsubame-shi\",\n                                \"addressRegion\": \"Niigata-ken\",\n                                \"postalCode\": \"959-0215\",\n                                \"addressCountry\": \"Japan\"\n                            }\n                        },\n                        \"description\": \"Galvalannealed ASTM A-653 zinc-iron alloy-coated steel sheets.\",\n                        \"weight\": {\n                            \"type\": \"QuantitativeValue\",\n                            \"value\": \"12680\",\n                            \"unitCode\": \"lbs\"\n                        }\n                    },\n                    \"itemCount\": 20,\n                    \"tradeLineItemWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"value\": \"253600\",\n                        \"unitCode\": \"lbs\"\n                    },\n                    \"priceSpecification\": {\n                        \"type\": \"PriceSpecification\",\n                        \"price\": 4400,\n                        \"priceCurrency\": \"USD\"\n                    }\n                }\n            ],\n            \"totalWeight\": {\n                \"type\": \"QuantitativeValue\",\n                \"value\": \"336100\",\n                \"unitCode\": \"lbs\"\n            },\n            \"totalPaymentDue\": {\n                \"type\": \"PriceSpecification\",\n                \"price\": 9600,\n                \"priceCurrency\": \"USD\"\n            }\n        }\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "fcf7c7a5-6849-44ff-95c4-7252fda9cfba",
              "type": "text/javascript",
              "exec": [
                "  pm.test(\"Proforma Invoice VC issued\", function () {",
                "      pm.response.to.have.status(201);",
                "      pm.environment.set('importers_proforma_invoice_vc', JSON.stringify(pm.response.json()));",
                "  })"
              ],
              "_lastExecutionId": "14cd958a-097f-4e20-9f5f-172cbd255c61"
            }
          }
        ]
      },
      {
        "id": "9404c9ca-f47e-4685-a26e-9a8a396d9c2b",
        "name": "02 - Importer - Present to Customs - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "9a0c7550-39ef-4291-9bf8-10724498ba2a",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_3_domain\", responseJson.domain);",
                "pm.environment.set(\"org_3_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Importer has authenticated to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "5c6437ea-413a-4580-bc3f-31922aab93f7"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "088d1a4b-49a3-41c2-a425-e567b85e7ef2",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "ffd9eb41-d638-4a23-b4d1-f9927609c6df"
            }
          }
        ]
      },
      {
        "id": "d4cd9862-7136-4d53-9384-44fe6cd950a8",
        "name": "02 - Importer - Present to Customs - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_1\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_1_holder}}\",\n        \"verifiableCredential\": [\n            {{importers_proforma_invoice_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "9bb59c76-523a-4663-afbe-1e954d9404e6",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"importers_proforma_invoice_presented_to_customs\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Importer VP of Proforma Invoice with workflow instance 'instance_1' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "4bbf8c42-4a17-4bde-9412-3e92db37a735"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "d7c0b434-3368-4725-bf5d-e6484402f68a",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "ed2caba3-77cc-458a-ac4e-b3cfe6e0e4c8"
            }
          }
        ]
      },
      {
        "id": "21db8192-77a9-4477-a9a6-1762a6309c56",
        "name": "02 - Importer - Present to Customs - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{importers_proforma_invoice_presented_to_customs}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "d1a3eeff-2ba1-4de6-ae84-082a4c7f672a",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Importer has successfully presented Proforma Invoice to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"Proforma Invoice VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "dee079c7-65a2-4be4-a58b-22c9d4f97dfc"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "2902578d-c37b-4f5e-b019-4289eda1bbb4",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "b39e1b2d-7362-4907-be86-43fa875f487f"
            }
          }
        ]
      },
      {
        "id": "5c3a85fb-1c22-4294-a2b4-91bdbdf5113d",
        "name": "03 - Customs - Verify Proforma Invoice",
        "request": {
          "url": {
            "path": [
              "presentations",
              "verify"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"verifiablePresentation\": {{importers_proforma_invoice_presented_to_customs}},\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}\n",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "6cd112f8-fc4e-40f7-a977-7c9568ac07c9",
              "type": "text/javascript",
              "exec": [
                "pm.test(\"Customs verifies Proforma Invoice\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "var workflowInstances = JSON.parse(pm.environment.get(\"importers_proforma_invoice_presented_to_customs\")).workflow.instance",
                "",
                "pm.test(\"Customs stores first workflow instance id: \" + workflowInstances[0], function () {",
                "    pm.environment.set(\"customs_first_workflow_instance_id\", workflowInstances[0]);",
                "});",
                "",
                ""
              ],
              "_lastExecutionId": "145450ab-0660-4a31-a96f-82b894088d30"
            }
          }
        ]
      },
      {
        "id": "6669af31-f446-41c5-8849-ce046f6579d8",
        "name": "04 - Freight Forwarder - Issue House Waybill",
        "request": {
          "url": {
            "path": [
              "credentials",
              "issue"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"credential\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"id\": \"did:key:z6MkmbqKc6KncFZUbVJwUppttTkiMAtnVJ5wzC5oVBWci3pc\",\n        \"type\": [\n            \"VerifiableCredential\",\n            \"HouseBillOfLadingCertificate\"\n        ],\n        \"name\": \"House Bill Of Lading\",\n        \"issuanceDate\": \"2022-03-04T13:40:00Z\",\n        \"issuer\": {\n            \"type\": \"Organization\",\n            \"id\": \"{{org_2_holder}}\",\n            \"name\": \"World Forward, Inc.\",\n            \"address\": {\n                \"type\": \"PostalAddress\",\n                \"organizationName\": \"MCL Multi Container Line LTD.\",\n                \"streetAddress\": \"Well Fung Ind Centre\",\n                \"addressLocality\": \"Kwai Chung\",\n                \"addressRegion\": \"Hong Kong\",\n                \"addressCountry\": \"Hong Kong\"\n            }\n        },\n        \"credentialSubject\": {\n            \"type\": \"HouseBillOfLading\",\n            \"billOfLadingNumber\": \"FF873363210A\",\n            \"bookingNumber\": [\n                \"FF873363210\"\n            ],\n            \"shipper\": {\n                \"type\": \"Organization\",\n                \"name\": \"Espresso Italiano Co.\",\n                \"address\": {\n                    \"type\": \"PostalAddress\",\n                    \"streetAddress\": \"Via Vico Ferrovia 5\",\n                    \"addressLocality\": \"Goro\",\n                    \"addressRegion\": \"Ferrara\",\n                    \"postalCode\": \"44020\",\n                    \"addressCountry\": \"IT\"\n                },\n                \"email\": \"sales@espresso-italiano.example.com\",\n                \"phoneNumber\": \"+39 0351 9067195\"\n            },\n            \"consignee\": {\n                \"type\": \"Organization\",\n                \"name\": \"Prosumer Coffee Supplies, Ltd.\",\n                \"description\": \"Coffee Machine Imports\",\n                \"address\": {\n                    \"type\": \"PostalAddress\",\n                    \"streetAddress\": \"3934 Spinnaker Lane\",\n                    \"addressLocality\": \"Joliet\",\n                    \"addressRegion\": \"Illinois\",\n                    \"postalCode\": \"60432\",\n                    \"addressCountry\": \"US\"\n                }\n            },\n            \"notifyParty\": [\n                {\n                    \"type\": \"Organization\",\n                    \"name\": \"Prosumer Coffee Supplies, Ltd.\",\n                    \"description\": \"Coffee Machine Imports\",\n                    \"address\": {\n                        \"type\": \"PostalAddress\",\n                        \"streetAddress\": \"3934 Spinnaker Lane\",\n                        \"addressLocality\": \"Joliet\",\n                        \"addressRegion\": \"Illinois\",\n                        \"postalCode\": \"60432\",\n                        \"addressCountry\": \"US\"\n                    }\n                }\n            ],\n            \"carrier\": {\n                \"type\": \"Organization\",\n                \"id\": \"did:key:z6MktHQo3fRRohk44dsbE76CuiTpBmyMWq2VVjvV6aBSeE3U\",\n                \"name\": \"World Forward, Inc.\",\n                \"address\": {\n                    \"type\": \"PostalAddress\",\n                    \"organizationName\": \"MCL Multi Container Line LTD.\",\n                    \"streetAddress\": \"Well Fung Ind Centre\",\n                    \"addressLocality\": \"Kwai Chung\",\n                    \"addressRegion\": \"Hong Kong\",\n                    \"addressCountry\": \"Hong Kong\"\n                }\n            },\n            \"mainCarriageTransportMovement\": {\n                \"type\": \"Transport\",\n                \"vesselNumber\": \"MS Seven Seas\",\n                \"voyageNumber\": \"Atl-W0425\"\n            },\n            \"portOfLoading\": {\n                \"type\": \"Place\",\n                \"unLocode\": \"ITMIL\"\n            },\n            \"portOfDischarge\": {\n                \"type\": \"Place\",\n                \"unLocode\": \"USLGB\"\n            },\n            \"totalNumberOfPackages\": 2200,\n            \"transportEquipmentQuantity\": 2,\n            \"includedConsignmentItems\": [\n                {\n                    \"marksAndNumbers\": \"Espresso Italiano\",\n                    \"commodity\": {\n                        \"type\": \"Commodity\",\n                        \"commodityCode\": \"851671\",\n                        \"commodityCodeType\": \"HS\"\n                    },\n                    \"packageQuantity\": 220,\n                    \"netWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"unitCode\": \"kg\",\n                        \"value\": \"1460\"\n                    },\n                    \"grossWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"unitCode\": \"kg\",\n                        \"value\": \"1590\"\n                    },\n                    \"grossVolume\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"value\": \"85\",\n                        \"unitCode\": \"cmb\"\n                    }\n                }\n            ],\n            \"freightAndCharges\": {\n                \"type\": \"ServiceCharge\",\n                \"chargeCode\": \"basicFreight\",\n                \"paymentTerm\": \"collect\",\n                \"chargeText\": \"Negotiated ocean freight\",\n                \"rate\": {\n                    \"type\": \"PriceSpecification\",\n                    \"price\": 225,\n                    \"priceCurrency\": \"USD\"\n                },\n                \"calculationBasis\": \"Per container\",\n                \"appliedAmount\": {\n                    \"type\": \"PriceSpecification\",\n                    \"price\": 450,\n                    \"priceCurrency\": \"USD\"\n                }\n            },\n            \"declaredValue\": {\n                \"type\": \"PriceSpecification\",\n                \"price\": 24000,\n                \"priceCurrency\": \"USD\"\n            },\n            \"termsAndConditions\": \"https://terms-of-shipment.freightforwarder.example.com\"\n        }\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "34cd93c1-b586-473a-9bcb-d367bf7dcf76",
              "type": "text/javascript",
              "exec": [
                "  pm.test(\"House Bill of Lading VC issued\", function () {",
                "      pm.response.to.have.status(201);",
                "      pm.environment.set('freight_forwarders_hbol_vc', JSON.stringify(pm.response.json()));",
                "  })"
              ],
              "_lastExecutionId": "fdf37c53-d9b5-482a-b461-f54661a7568f"
            }
          }
        ]
      },
      {
        "id": "155a5766-f134-478d-bd03-f0a45229f44e",
        "name": "05 - Freight Forwarder - Present to Customs - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "538c491c-b0d9-4af2-b49a-6f1d0af27867",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_3_domain\", responseJson.domain);",
                "pm.environment.set(\"org_3_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Freight Forwarder has authenticated to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "dd18576f-7360-4971-ba34-c430aa198010"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "505c377f-5cd9-4145-a1c4-3a78ea7c935d",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "7f273181-2ae9-424e-91aa-8b120e251580"
            }
          }
        ]
      },
      {
        "id": "1680b748-7136-42e8-8b88-58dcdfa37753",
        "name": "05 - Freight Forwarder - Present to Customs - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_2\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_2_holder}}\",\n        \"verifiableCredential\": [\n            {{freight_forwarders_hbol_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "e5c50c17-aa73-4313-8c96-c5022bf43b77",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"freight_forwarders_house_bill_presented_to_customs\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Freight Forwarder VP of House Bill of Lading with workflow instance 'instance_2' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "5064558c-d23a-4db1-a2c3-69009cfdf9b1"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "c705fd60-ab10-49bf-8b31-bb1f0e298949",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "36216670-f414-4b93-be79-b463298cfff7"
            }
          }
        ]
      },
      {
        "id": "9b053029-233f-4ef1-8c50-acffc6c0cb49",
        "name": "05 - Freight Forwarder - Present to Customs - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{freight_forwarders_house_bill_presented_to_customs}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "eb6bbd8c-3c00-49da-9e1a-60e66703930d",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Freight Forwarder has successfully presented House Bill of Lading to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"House Bill of Lading VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "656a3fc9-9de0-4321-8ebe-b83458f9562f"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "4cd98b7e-d113-4743-b9a1-e5f3d25dc350",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "dfb1903a-9560-4abe-9fe1-9c1f9cf6de85"
            }
          }
        ]
      },
      {
        "id": "31f76fbc-933e-4659-9599-291593ccf749",
        "name": "06 - Customs - Verify House Waybill",
        "request": {
          "url": {
            "path": [
              "presentations",
              "verify"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"verifiablePresentation\": {{freight_forwarders_house_bill_presented_to_customs}},\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}\n",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "302b27ed-fb80-473c-a6b6-733818e7c1ff",
              "type": "text/javascript",
              "exec": [
                "pm.test(\"Customs verifies House Bill of Lading\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "var workflowInstances = JSON.parse(pm.environment.get(\"freight_forwarders_house_bill_presented_to_customs\")).workflow.instance",
                "",
                "pm.test(\"Customs stores first workflow instance id: \" + workflowInstances[0], function () {",
                "    pm.environment.set(\"customs_second_workflow_instance_id\", workflowInstances[0]);",
                "});",
                ""
              ],
              "_lastExecutionId": "c7793f28-45bb-48ce-a5f3-6f6db842e209"
            }
          }
        ]
      },
      {
        "id": "121dd29a-596c-4eb0-919d-81267394c0d1",
        "name": "07 - Importer - Issue Commercial Invoice",
        "request": {
          "url": {
            "path": [
              "credentials",
              "issue"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\"credential\": \n      {\n    \"@context\": [\n      \"https://www.w3.org/2018/credentials/v1\",\n      \"https://w3id.org/traceability/v1\"\n    ],\n    \"id\": \"did:key:z6MkhNsCYEQQWJdyAbfaMZHz4UG6UZoQUGot7z7tBNsbz1JG\",\n    \"type\": [\n      \"VerifiableCredential\",\n      \"CommercialInvoiceCertificate\"\n    ],\n    \"name\": \"Commercial Invoice Certificate\",\n    \"issuanceDate\": \"2022-02-23T11:55:00Z\",\n    \"issuer\": {\n      \"id\": \"{{org_1_holder}}\",\n      \"type\": [\n        \"Organization\"\n      ],\n      \"address\": {\n        \"type\": [\n          \"PostalAddress\"\n        ],\n        \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n        \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n        \"addressLocality\": \"Tsubame-shi\",\n        \"addressRegion\": \"Niigata-ken\",\n        \"postalCode\": \"959-0215\",\n        \"addressCountry\": \"Japan\"\n      }\n    },\n    \"credentialSubject\": {\n      \"type\": [\n        \"Invoice\"\n      ],\n      \"portOfEntry\": {\n        \"type\": \"Place\",\n        \"unLocode\": \"USLGB\"\n      },\n      \"destinationCountry\": \"MEX\",\n      \"purchaseDate\": \"2021-02-21\",\n      \"seller\": {\n        \"type\": [\n          \"Organization\"\n        ],\n        \"address\": {\n          \"type\": [\n            \"PostalAddress\"\n          ],\n          \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n          \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n          \"addressLocality\": \"Tsubame-shi\",\n          \"addressRegion\": \"Niigata-ken\",\n          \"postalCode\": \"959-0215\",\n          \"addressCountry\": \"Japan\"\n        }\n      },\n      \"buyer\": {\n        \"type\": [\n          \"Organization\"\n        ],\n        \"address\": {\n          \"type\": [\n            \"PostalAddress\"\n          ],\n          \"organizationName\": \"Generic Motors of America\",\n          \"streetAddress\": \"12 Generic Motors Dr\",\n          \"addressLocality\": \"Detroit\",\n          \"addressRegion\": \"Michigain\",\n          \"postalCode\": \"48232-5170\",\n          \"addressCountry\": \"USA\"\n        }\n      },\n      \"shipToParty\": {\n        \"type\": [\n          \"Organization\"\n        ],\n        \"address\": {\n          \"type\": [\n            \"PostalAddress\"\n          ],\n          \"organizationName\": \"Generic Motors of America\",\n          \"streetAddress\": \"12 Generic Motors Dr\",\n          \"addressLocality\": \"Detroit\",\n          \"addressRegion\": \"Michigain\",\n          \"postalCode\": \"48232-5170\",\n          \"addressCountry\": \"USA\"\n        }\n      },\n      \"itemsShipped\": [\n        {\n          \"type\": \"TradeLineItem\",\n          \"product\": {\n            \"manufacturer\": {\n              \"type\": \"Organization\",\n              \"address\": {\n                \"type\": \"PostalAddress\",\n                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                \"addressLocality\": \"Tsubame-shi\",\n                \"addressRegion\": \"Niigata-ken\",\n                \"postalCode\": \"959-0215\",\n                \"addressCountry\": \"Japan\"\n              }\n            },\n            \"description\": \"UNS S30400 chromium-nickel stainless steel rolls.\",\n            \"weight\": {\n              \"type\": \"QuantitativeValue\",\n              \"unitCode\": \"lbs\",\n              \"value\": \"16500\"\n            }\n          },\n          \"itemCount\": 5,\n          \"tradeLineItemWeight\": {\n            \"type\": \"QuantitativeValue\",\n            \"value\": \"82500\",\n            \"unitCode\": \"lbs\"\n          },\n          \"priceSpecification\": {\n            \"type\": \"PriceSpecification\",\n            \"price\": 5200,\n            \"priceCurrency\": \"USD\"\n          }\n        },\n        {\n          \"type\": \"TradeLineItem\",\n          \"product\": {\n            \"manufacturer\": {\n              \"type\": \"Organization\",\n              \"address\": {\n                \"type\": \"PostalAddress\",\n                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                \"addressLocality\": \"Tsubame-shi\",\n                \"addressRegion\": \"Niigata-ken\",\n                \"postalCode\": \"959-0215\",\n                \"addressCountry\": \"Japan\"\n              }\n            },\n            \"description\": \"Galvalannealed ASTM A-653 zinc-iron alloy-coated steel sheets.\",\n            \"weight\": {\n              \"type\": \"QuantitativeValue\",\n              \"value\": \"12680\",\n              \"unitCode\": \"lbs\"\n            }\n          },\n          \"itemCount\": 20,\n          \"tradeLineItemWeight\": {\n            \"type\": \"QuantitativeValue\",\n            \"value\": \"253600\",\n            \"unitCode\": \"lbs\"\n          },\n          \"priceSpecification\": {\n            \"type\": \"PriceSpecification\",\n            \"price\": 4400,\n            \"priceCurrency\": \"USD\"\n          }\n        }\n      ],\n      \"totalWeight\": {\n        \"type\": \"QuantitativeValue\",\n        \"value\": \"336100\",\n        \"unitCode\": \"lbs\"\n      },\n      \"totalPaymentDue\": {\n        \"type\": \"PriceSpecification\",\n        \"price\": 9600,\n        \"priceCurrency\": \"USD\"\n      }\n    }\n  }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "e4fc5860-deb5-476d-b859-b7cb31c4b249",
              "type": "text/javascript",
              "exec": [
                "  pm.test(\"Commercial Invoice VC issued\", function () {",
                "      pm.response.to.have.status(201);",
                "      pm.environment.set('importers_commercial_invoice_vc', JSON.stringify(pm.response.json()));",
                "  })"
              ],
              "_lastExecutionId": "b2f20cfd-a925-4b22-acd8-86b98a32ead5"
            }
          }
        ]
      },
      {
        "id": "7ff14fb4-5adf-4f42-b033-1b0c8e7862ed",
        "name": "08 - Importer - Present to Freight Forwarder - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_2_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "5bdccaf2-cb18-46ce-8fbe-63e77e941ac3",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_2_domain\", responseJson.domain);",
                "pm.environment.set(\"org_2_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Importer has authenticated to Freight Forwarder\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "d6f66dca-7feb-4a7a-8125-f19abf3d98ec"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "0655d749-60b3-45f5-9e0d-80a817fda90a",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "c6ed9bf2-88aa-4f86-8096-b37ca87e379a"
            }
          }
        ]
      },
      {
        "id": "c161e9b2-5afa-4938-8849-4be123267e1c",
        "name": "08 - Importer - Present to Freight Forwarder - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_1\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_1_holder}}\",\n        \"verifiableCredential\": [\n            {{importers_commercial_invoice_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_2_domain}}\",\n        \"challenge\": \"{{org_2_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "25580688-a44f-4bf1-81e3-1636fb197d68",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"importers_presentation_of_ci_to_freight_forwarder\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Importer VP of Commercial Invoice with workflow instance 'instance_1' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "7e5ccb02-2104-4ade-b242-3a3df2916f07"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "52a7654d-b659-4742-a5cc-03171e6cbce8",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "e59cf2be-e81f-42c8-8e21-09788499b095"
            }
          }
        ]
      },
      {
        "id": "cb20e803-0538-4dab-bce8-5ea8f62a821a",
        "name": "08 - Importer - Present to Freight Forwarder - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_2_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{importers_presentation_of_ci_to_freight_forwarder}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "7babbaa3-22ef-45a8-8b25-1dc058cd9256",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Importer has successfully presented Commercial Invoice to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"Commercial Invoice VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "be4a583b-cfc5-4203-b031-7f4a1eac1b0e"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "ab7ee09b-805e-4648-a6bf-28e995696eb4",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "e6ac025a-fda2-4780-8aec-0179ab183890"
            }
          }
        ]
      },
      {
        "id": "aa49460d-ce6e-4a9e-b513-c81f36b0be86",
        "name": "09 - Freight Forwarder - Present to Customs - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "6728f4f4-28bb-46ed-a28f-1c2da9a238e2",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_3_domain\", responseJson.domain);",
                "pm.environment.set(\"org_3_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Freight Forwarder has authenticated to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "3b55b2a0-b040-4990-8cc4-96710f9ce74f"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "382e7e89-7310-4335-99d5-ed497326d6c2",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "afda8e16-c5a1-4831-a897-74c4c5fa51e9"
            }
          }
        ]
      },
      {
        "id": "8f179969-684a-4634-83ae-a805df92585a",
        "name": "09 - Freight Forwarder - Present to Customs - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_1\", \n                \"instance_2\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_2_holder}}\",\n        \"verifiableCredential\": [\n            {{importers_commercial_invoice_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "eee221e3-e5f6-4814-85a7-7019bb5831b3",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"freight_forwarders_presentation_of_ci_to_customs\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Freight Forwarder VP of Commercial Invoice with workflow instances 'instance_1' and 'instance_2' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "435ceff5-0d14-464b-84a9-4759745c8638"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "a6fd28b3-efc8-4f8a-ba62-17882e60c80d",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "5ed91f48-3fa1-4c8e-86aa-3482bca50ead"
            }
          }
        ]
      },
      {
        "id": "fd639d01-e7b2-4876-848c-a34d9c48483a",
        "name": "09 - Freight Forwarder - Present to Customs - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{freight_forwarders_presentation_of_ci_to_customs}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "42a91ff8-3ccb-4aa1-9b9b-42d9b92a3ff9",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Freight Forwarder has successfully presented Commercial Invoice to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"Commercial Invoice VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "453195b5-1924-46d3-9e10-ebf0e19ee037"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "2a80c9ec-d2a7-435b-8aae-459e75b12321",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "c1cb9ce8-42a6-4bfc-887e-f32a80675636"
            }
          }
        ]
      },
      {
        "id": "9c7fd604-19df-4d33-9262-c253546adab4",
        "name": "10 - Customs - Verify Commercial Invoice and Join Instances",
        "request": {
          "url": {
            "path": [
              "presentations",
              "verify"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"verifiablePresentation\": {{freight_forwarders_presentation_of_ci_to_customs}},\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}\n",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "bebf76f3-64aa-423a-b32d-d830c0a5cd5b",
              "type": "text/javascript",
              "exec": [
                "pm.test(\"Customs verifies Commercial Invoice\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "var workflowInstances = JSON.parse(pm.environment.get(\"freight_forwarders_presentation_of_ci_to_customs\")).workflow.instance",
                "",
                "pm.test(\"Customs checks known workflow instance ids and join the workflows\", function () {",
                "    pm.expect(workflowInstances[0]).to.eql(pm.environment.get(\"customs_first_workflow_instance_id\"));",
                "    pm.expect(workflowInstances[1]).to.eql(pm.environment.get(\"customs_second_workflow_instance_id\"));",
                "});",
                ""
              ],
              "_lastExecutionId": "65f66f25-ca7c-4d52-ac74-d824ad333542"
            }
          }
        ]
      }
    ]
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 36,
        "pending": 0,
        "failed": 0
      },
      "prerequests": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "tests": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 34,
        "pending": 0,
        "failed": 4
      },
      "testScripts": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "prerequestScripts": {
        "total": 12,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 4768.416666666666,
      "responseMin": 114,
      "responseMax": 12460,
      "responseSd": 3788.58021907797,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1649639202691,
      "completed": 1649639317934
    },
    "executions": [
      {
        "id": "fc658c43-869d-4e52-b825-527098afeb1d",
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 24,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "2717a4f4-bdd6-4c22-861f-054ad7ce36b6",
          "httpRequestId": "279aab73-ad33-479a-b114-e8dab80e583d"
        },
        "item": {
          "id": "fc658c43-869d-4e52-b825-527098afeb1d",
          "name": "00 - Importer Access Token"
        },
        "response": {
          "id": "5d72746b-75be-4610-a8eb-dec573cb23df",
          "status": "OK",
          "code": 200,
          "responseTime": 12460,
          "responseSize": 852
        },
        "assertions": [
          {
            "assertion": "Importer application has access token",
            "skipped": false
          }
        ]
      },
      {
        "id": "a6b0af20-2baa-404a-8507-e8373e32af55",
        "cursor": {
          "ref": "eb98f0ed-5ea0-46c6-bb5b-20a1f116ebcf",
          "length": 24,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "022b0ad3-caff-493b-a67d-1aa0f1d9570f"
        },
        "item": {
          "id": "a6b0af20-2baa-404a-8507-e8373e32af55",
          "name": "00 - Freight Forwarder Access Token"
        },
        "response": {
          "id": "eb5abac2-e7b6-44da-8435-e4ea3ea41245",
          "status": "OK",
          "code": 200,
          "responseTime": 295,
          "responseSize": 852
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder application has access token",
            "skipped": false
          }
        ]
      },
      {
        "id": "39933415-f60c-43e5-94cc-fd045d15e66f",
        "cursor": {
          "ref": "bb4a366f-0744-4036-aeea-e3df135057a9",
          "length": 24,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "76a600d1-70b5-4cf2-98f9-a181ddf3c179"
        },
        "item": {
          "id": "39933415-f60c-43e5-94cc-fd045d15e66f",
          "name": "00 - Customs Access Token"
        },
        "response": {
          "id": "c2b487a3-1984-424b-9ab5-981813e36687",
          "status": "OK",
          "code": 200,
          "responseTime": 329,
          "responseSize": 852
        },
        "assertions": [
          {
            "assertion": "Customs application has access token",
            "skipped": false
          }
        ]
      },
      {
        "id": "6cad0337-4b7f-4bcb-99bb-400927906f95",
        "cursor": {
          "ref": "c2cb1388-0806-419b-a57a-81a4d5f2dda8",
          "length": 24,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "fb7381e6-e6a8-43f8-9899-42ca4a3f432b"
        },
        "item": {
          "id": "6cad0337-4b7f-4bcb-99bb-400927906f95",
          "name": "00 - Get Importer Exchange Endpoint"
        },
        "response": {
          "id": "72bb60e9-812d-4bef-8b7f-6d38d6b576a5",
          "status": "OK",
          "code": 200,
          "responseTime": 1491,
          "responseSize": 1092
        },
        "assertions": [
          {
            "assertion": "Importer has holder DID",
            "skipped": false
          },
          {
            "assertion": "Importer has service endpoint",
            "skipped": false
          }
        ]
      },
      {
        "id": "14b39844-3228-4cdb-99ff-1941aaf04631",
        "cursor": {
          "ref": "b3d31efe-4610-4445-aea6-fceb183072d7",
          "length": 24,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "edfdb916-24c4-4124-b0b9-4b8faa09ca5b"
        },
        "item": {
          "id": "14b39844-3228-4cdb-99ff-1941aaf04631",
          "name": "00 - Get Freight Forwarder Exchange Endpoint"
        },
        "response": {
          "id": "33e669b0-5ed8-45f9-8574-61a380d0a10c",
          "status": "OK",
          "code": 200,
          "responseTime": 1064,
          "responseSize": 1092
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has holder DID",
            "skipped": false
          },
          {
            "assertion": "Freight Forwarder has service endpoint",
            "skipped": false
          }
        ]
      },
      {
        "id": "958e7c0c-eba5-4485-90e1-5e24b7eb2ec2",
        "cursor": {
          "ref": "4ecfee31-1a31-4157-935d-3a3dd3f52400",
          "length": 24,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "3f4a8e3c-3886-4615-b861-e7807fbf885c"
        },
        "item": {
          "id": "958e7c0c-eba5-4485-90e1-5e24b7eb2ec2",
          "name": "00 - Get Customs Exchange Endpoint"
        },
        "response": {
          "id": "c3d2c319-92b5-483f-8627-40d9294b4b58",
          "status": "OK",
          "code": 200,
          "responseTime": 654,
          "responseSize": 1092
        },
        "assertions": [
          {
            "assertion": "Customs has holder DID",
            "skipped": false
          },
          {
            "assertion": "Customs has service endpoint",
            "skipped": false
          }
        ]
      },
      {
        "id": "ac055e4c-5b77-443c-8021-28e4caed1258",
        "cursor": {
          "ref": "dadff647-a4d5-4db7-98bd-1e28ebb80369",
          "length": 24,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "2c1888ef-e38a-47c6-b13a-25622aca7f1b"
        },
        "item": {
          "id": "ac055e4c-5b77-443c-8021-28e4caed1258",
          "name": "01 - Importer - Issue Proforma Invoice"
        },
        "response": {
          "id": "cf52d76c-bd28-46be-9827-0c76f51c7d3d",
          "status": "Created",
          "code": 201,
          "responseTime": 3499,
          "responseSize": 3383
        },
        "assertions": [
          {
            "assertion": "Proforma Invoice VC issued",
            "skipped": false
          }
        ]
      },
      {
        "id": "9404c9ca-f47e-4685-a26e-9a8a396d9c2b",
        "cursor": {
          "ref": "5286a919-4cb6-41f6-8860-2c23dce2c075",
          "length": 24,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "3b2bced8-d91a-4af0-a3b3-0d58864c54f4"
        },
        "item": {
          "id": "9404c9ca-f47e-4685-a26e-9a8a396d9c2b",
          "name": "02 - Importer - Present to Customs - (1/3)"
        },
        "response": {
          "id": "5c65e936-a7a9-4756-b926-663c54d42684",
          "status": "OK",
          "code": 200,
          "responseTime": 114,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Importer has authenticated to Customs",
            "skipped": false
          }
        ]
      },
      {
        "id": "d4cd9862-7136-4d53-9384-44fe6cd950a8",
        "cursor": {
          "ref": "d6ff3737-d197-4106-a6be-9741a61c5d63",
          "length": 24,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "f35d6213-ec47-432c-8c18-d0c20bd3c3f7"
        },
        "item": {
          "id": "d4cd9862-7136-4d53-9384-44fe6cd950a8",
          "name": "02 - Importer - Present to Customs - (2/3)"
        },
        "response": {
          "id": "0cf1682a-3c54-4d1f-85f2-56ea8551d5cc",
          "status": "OK",
          "code": 200,
          "responseTime": 6956,
          "responseSize": 4181
        },
        "assertions": [
          {
            "assertion": "Importer VP of Proforma Invoice with workflow instance 'instance_1' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Importer VP of Proforma Invoice with workflow instance 'instance_1' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:9)"
            }
          }
        ]
      },
      {
        "id": "21db8192-77a9-4477-a9a6-1762a6309c56",
        "cursor": {
          "ref": "f7c95bfd-e8b4-43ef-bfb0-5edfde7dd558",
          "length": 24,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "75bcadc8-2dc2-4822-8da4-5b37de198c6a"
        },
        "item": {
          "id": "21db8192-77a9-4477-a9a6-1762a6309c56",
          "name": "02 - Importer - Present to Customs - (3/3)"
        },
        "response": {
          "id": "bd32b8ff-008d-4ce9-be1b-9544fea694f4",
          "status": "OK",
          "code": 200,
          "responseTime": 8022,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Importer has successfully presented Proforma Invoice to Customs",
            "skipped": false
          },
          {
            "assertion": "Proforma Invoice VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "5c3a85fb-1c22-4294-a2b4-91bdbdf5113d",
        "cursor": {
          "ref": "c0349444-4948-4940-b05c-2ac5aef58827",
          "length": 24,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "1967d338-d71c-4e47-b988-dfba6ef2ec1d"
        },
        "item": {
          "id": "5c3a85fb-1c22-4294-a2b4-91bdbdf5113d",
          "name": "03 - Customs - Verify Proforma Invoice"
        },
        "response": {
          "id": "96d4ecc8-de16-4126-9adc-eaf92269a3db",
          "status": "OK",
          "code": 200,
          "responseTime": 8580,
          "responseSize": 2800
        },
        "assertions": [
          {
            "assertion": "Customs verifies Proforma Invoice",
            "skipped": false
          },
          {
            "assertion": "Customs stores first workflow instance id: instance_1",
            "skipped": false
          }
        ]
      },
      {
        "id": "6669af31-f446-41c5-8849-ce046f6579d8",
        "cursor": {
          "ref": "c66bd332-ac4e-4d5e-9d42-27ab01d0359d",
          "length": 24,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "a9e45e49-3494-4d2b-ad0f-b08339d17417"
        },
        "item": {
          "id": "6669af31-f446-41c5-8849-ce046f6579d8",
          "name": "04 - Freight Forwarder - Issue House Waybill"
        },
        "response": {
          "id": "206a6a47-d3ab-44bc-98a4-13aa056003ce",
          "status": "Created",
          "code": 201,
          "responseTime": 3608,
          "responseSize": 3507
        },
        "assertions": [
          {
            "assertion": "House Bill of Lading VC issued",
            "skipped": false
          }
        ]
      },
      {
        "id": "155a5766-f134-478d-bd03-f0a45229f44e",
        "cursor": {
          "ref": "7693670b-b416-4460-a0fb-1b8d457931e5",
          "length": 24,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "2956f068-9014-42f5-b67a-98b4cc2f6696"
        },
        "item": {
          "id": "155a5766-f134-478d-bd03-f0a45229f44e",
          "name": "05 - Freight Forwarder - Present to Customs - (1/3)"
        },
        "response": {
          "id": "043a4943-bea6-4441-8d9f-65d4477e98c4",
          "status": "OK",
          "code": 200,
          "responseTime": 134,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has authenticated to Customs",
            "skipped": false
          }
        ]
      },
      {
        "id": "1680b748-7136-42e8-8b88-58dcdfa37753",
        "cursor": {
          "ref": "d41cd960-7692-4f9e-9f98-124d2b9ca678",
          "length": 24,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "59dc878b-ab3f-4c62-b394-3f5232de2999"
        },
        "item": {
          "id": "1680b748-7136-42e8-8b88-58dcdfa37753",
          "name": "05 - Freight Forwarder - Present to Customs - (2/3)"
        },
        "response": {
          "id": "1ecec91f-5369-481e-9729-677c39f5ede7",
          "status": "OK",
          "code": 200,
          "responseTime": 6682,
          "responseSize": 4305
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder VP of House Bill of Lading with workflow instance 'instance_2' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Freight Forwarder VP of House Bill of Lading with workflow instance 'instance_2' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:14)"
            }
          }
        ]
      },
      {
        "id": "9b053029-233f-4ef1-8c50-acffc6c0cb49",
        "cursor": {
          "ref": "8d0a20b3-3202-4547-8ae1-12593133a583",
          "length": 24,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "f979aa80-4ff4-4a10-ad73-4be0b74c78d3"
        },
        "item": {
          "id": "9b053029-233f-4ef1-8c50-acffc6c0cb49",
          "name": "05 - Freight Forwarder - Present to Customs - (3/3)"
        },
        "response": {
          "id": "817e86ad-547d-4ba5-a0bd-fef2ed62dd65",
          "status": "OK",
          "code": 200,
          "responseTime": 8012,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has successfully presented House Bill of Lading to Customs",
            "skipped": false
          },
          {
            "assertion": "House Bill of Lading VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "31f76fbc-933e-4659-9599-291593ccf749",
        "cursor": {
          "ref": "0fdf7228-6ecf-4200-a1dd-821a6cc5a0a8",
          "length": 24,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "221f4495-f811-4b8f-b8b1-1cead427f89b"
        },
        "item": {
          "id": "31f76fbc-933e-4659-9599-291593ccf749",
          "name": "06 - Customs - Verify House Waybill"
        },
        "response": {
          "id": "d894f860-e33f-47a4-949b-9f0e3d4cead0",
          "status": "OK",
          "code": 200,
          "responseTime": 8342,
          "responseSize": 2874
        },
        "assertions": [
          {
            "assertion": "Customs verifies House Bill of Lading",
            "skipped": false
          },
          {
            "assertion": "Customs stores first workflow instance id: instance_2",
            "skipped": false
          }
        ]
      },
      {
        "id": "121dd29a-596c-4eb0-919d-81267394c0d1",
        "cursor": {
          "ref": "5462c8ee-7110-419e-b717-45ed983086a0",
          "length": 24,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "00a3ddc5-e535-49a9-be19-6a5015717442"
        },
        "item": {
          "id": "121dd29a-596c-4eb0-919d-81267394c0d1",
          "name": "07 - Importer - Issue Commercial Invoice"
        },
        "response": {
          "id": "8773197c-da48-44a9-8b32-03adb81a5b54",
          "status": "Created",
          "code": 201,
          "responseTime": 3816,
          "responseSize": 3447
        },
        "assertions": [
          {
            "assertion": "Commercial Invoice VC issued",
            "skipped": false
          }
        ]
      },
      {
        "id": "7ff14fb4-5adf-4f42-b033-1b0c8e7862ed",
        "cursor": {
          "ref": "617e8ed0-2059-49a6-985c-fe38c83ab54b",
          "length": 24,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "52cfbe24-2405-4707-8893-89b65f67099a"
        },
        "item": {
          "id": "7ff14fb4-5adf-4f42-b033-1b0c8e7862ed",
          "name": "08 - Importer - Present to Freight Forwarder - (1/3)"
        },
        "response": {
          "id": "67bf622f-346e-4841-ac13-bb52797f5f34",
          "status": "OK",
          "code": 200,
          "responseTime": 179,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Importer has authenticated to Freight Forwarder",
            "skipped": false
          }
        ]
      },
      {
        "id": "c161e9b2-5afa-4938-8849-4be123267e1c",
        "cursor": {
          "ref": "4b0fd037-b881-4e62-ade2-58a256f75ba3",
          "length": 24,
          "cycles": 1,
          "position": 18,
          "iteration": 0,
          "httpRequestId": "47509f76-1b27-4e9b-aee2-89d9214acca0"
        },
        "item": {
          "id": "c161e9b2-5afa-4938-8849-4be123267e1c",
          "name": "08 - Importer - Present to Freight Forwarder - (2/3)"
        },
        "response": {
          "id": "9da81f37-1203-4d66-a69f-fc42c74b3c1d",
          "status": "OK",
          "code": 200,
          "responseTime": 7028,
          "responseSize": 4245
        },
        "assertions": [
          {
            "assertion": "Importer VP of Commercial Invoice with workflow instance 'instance_1' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Importer VP of Commercial Invoice with workflow instance 'instance_1' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:19)"
            }
          }
        ]
      },
      {
        "id": "cb20e803-0538-4dab-bce8-5ea8f62a821a",
        "cursor": {
          "ref": "f926d7ff-1686-4ce2-8528-edee99133c3c",
          "length": 24,
          "cycles": 1,
          "position": 19,
          "iteration": 0,
          "httpRequestId": "676d0110-b11f-413a-b2f1-b9b37925e64f"
        },
        "item": {
          "id": "cb20e803-0538-4dab-bce8-5ea8f62a821a",
          "name": "08 - Importer - Present to Freight Forwarder - (3/3)"
        },
        "response": {
          "id": "87534e46-f0fc-4c02-9954-811a1b0135af",
          "status": "OK",
          "code": 200,
          "responseTime": 8464,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Importer has successfully presented Commercial Invoice to Customs",
            "skipped": false
          },
          {
            "assertion": "Commercial Invoice VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "aa49460d-ce6e-4a9e-b513-c81f36b0be86",
        "cursor": {
          "ref": "1ab478f1-75c7-42dc-a2c8-e3a24193ecbc",
          "length": 24,
          "cycles": 1,
          "position": 20,
          "iteration": 0,
          "httpRequestId": "a5f53423-8766-413b-854a-8095d605c3d9"
        },
        "item": {
          "id": "aa49460d-ce6e-4a9e-b513-c81f36b0be86",
          "name": "09 - Freight Forwarder - Present to Customs - (1/3)"
        },
        "response": {
          "id": "c14fb17d-b0e4-4019-af77-f19b71bdd8c4",
          "status": "OK",
          "code": 200,
          "responseTime": 125,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has authenticated to Customs",
            "skipped": false
          }
        ]
      },
      {
        "id": "8f179969-684a-4634-83ae-a805df92585a",
        "cursor": {
          "ref": "037b50ea-bf38-41b5-98d9-3a635452155d",
          "length": 24,
          "cycles": 1,
          "position": 21,
          "iteration": 0,
          "httpRequestId": "22d8d9e6-befa-4026-8a27-5be75b334b01"
        },
        "item": {
          "id": "8f179969-684a-4634-83ae-a805df92585a",
          "name": "09 - Freight Forwarder - Present to Customs - (2/3)"
        },
        "response": {
          "id": "153b994f-34d2-4c04-9ed2-e43c241c8383",
          "status": "OK",
          "code": 200,
          "responseTime": 6824,
          "responseSize": 4258
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder VP of Commercial Invoice with workflow instances 'instance_1' and 'instance_2' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Freight Forwarder VP of Commercial Invoice with workflow instances 'instance_1' and 'instance_2' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:22)"
            }
          }
        ]
      },
      {
        "id": "fd639d01-e7b2-4876-848c-a34d9c48483a",
        "cursor": {
          "ref": "57ab1306-bd8e-4789-be35-67ded2de3dc9",
          "length": 24,
          "cycles": 1,
          "position": 22,
          "iteration": 0,
          "httpRequestId": "2d5b2af6-c357-4870-a54c-27a640def9fc"
        },
        "item": {
          "id": "fd639d01-e7b2-4876-848c-a34d9c48483a",
          "name": "09 - Freight Forwarder - Present to Customs - (3/3)"
        },
        "response": {
          "id": "cd50d2c1-5e2d-48bc-9799-21e913369a3d",
          "status": "OK",
          "code": 200,
          "responseTime": 8214,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has successfully presented Commercial Invoice to Customs",
            "skipped": false
          },
          {
            "assertion": "Commercial Invoice VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "9c7fd604-19df-4d33-9262-c253546adab4",
        "cursor": {
          "ref": "d03673ed-d314-4a92-96c4-e5210625fcb8",
          "length": 24,
          "cycles": 1,
          "position": 23,
          "iteration": 0,
          "httpRequestId": "d8d12301-d93f-4ef3-b875-caebf1f22520"
        },
        "item": {
          "id": "9c7fd604-19df-4d33-9262-c253546adab4",
          "name": "10 - Customs - Verify Commercial Invoice and Join Instances"
        },
        "response": {
          "id": "c29fbd05-87e5-4cc0-a7aa-1c45ea945248",
          "status": "OK",
          "code": 200,
          "responseTime": 9550,
          "responseSize": 2874
        },
        "assertions": [
          {
            "assertion": "Customs verifies Commercial Invoice",
            "skipped": false
          },
          {
            "assertion": "Customs checks known workflow instance ids and join the workflows",
            "skipped": false
          }
        ]
      }
    ]
  }
}