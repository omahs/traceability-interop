{
  "collection": {
    "info": {
      "_postman_id": "6f3afe3d-f721-48df-82f7-eb3d3936f320",
      "name": "eCommerce - Workflow Instance Join",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
      {
        "id": "ff76765b-0770-41aa-aa7f-38e6a226d1c6",
        "name": "00 - Importer Access Token",
        "request": {
          "url": {
            "host": [
              "{{ORG_1_TOKEN_ENDPOINT}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"audience\": \"{{ORG_1_TOKEN_AUDIENCE}}\",\n    \"client_id\": \"{{ORG_1_CLIENT_ID}}\",\n    \"client_secret\": \"{{ORG_1_CLIENT_SECRET}}\",\n    \"grant_type\": \"client_credentials\"\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "e9540ee1-a6b0-4a38-a804-308896052d8d",
              "type": "text/javascript",
              "exec": [
                "pm.environment.set(\"org_1_access_token\", pm.response.json().access_token);",
                "",
                "pm.test(\"Importer application has access token\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "92c56fbd-ea3f-4cec-b952-8397bb61ae2b"
            }
          }
        ]
      },
      {
        "id": "c9538ef2-e8c5-49cb-b943-b9e88a6a37b7",
        "name": "00 - Freight Forwarder Access Token",
        "request": {
          "url": {
            "host": [
              "{{ORG_2_TOKEN_ENDPOINT}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"audience\": \"{{ORG_2_TOKEN_AUDIENCE}}\",\n    \"client_id\": \"{{ORG_2_CLIENT_ID}}\",\n    \"client_secret\": \"{{ORG_2_CLIENT_SECRET}}\",\n    \"grant_type\": \"client_credentials\"\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "e3c0579a-363a-4a71-ad75-970250d415b6",
              "type": "text/javascript",
              "exec": [
                "pm.environment.set(\"org_2_access_token\", pm.response.json().access_token);",
                "",
                "pm.test(\"Freight Forwarder application has access token\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "31aae274-42fd-47a5-b425-b52bdcabc258"
            }
          }
        ]
      },
      {
        "id": "f12af6f8-d3e1-44c9-af17-a2fb849e8e95",
        "name": "00 - Customs Access Token",
        "request": {
          "url": {
            "host": [
              "{{ORG_3_TOKEN_ENDPOINT}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"audience\": \"{{ORG_3_TOKEN_AUDIENCE}}\",\n    \"client_id\": \"{{ORG_3_CLIENT_ID}}\",\n    \"client_secret\": \"{{ORG_3_CLIENT_SECRET}}\",\n    \"grant_type\": \"client_credentials\"\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "0f3f24b0-43ef-48f4-88e3-998001f8d22a",
              "type": "text/javascript",
              "exec": [
                "pm.environment.set(\"org_3_access_token\", pm.response.json().access_token);",
                "",
                "pm.test(\"Customs application has access token\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "2527af88-c05c-4bcd-81d4-7417c9314628"
            }
          }
        ]
      },
      {
        "id": "8826726b-b462-4744-b173-9675272c1a93",
        "name": "00 - Get Importer Exchange Endpoint",
        "request": {
          "url": {
            "path": [
              "identifiers",
              "{{ORG_1_DID_WEB}}"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "58ed5bea-1f39-42ec-8bf2-e937e2801bab",
              "type": "text/javascript",
              "exec": [
                "const { didDocument } = pm.response.json()",
                "pm.environment.set(\"org_1_holder\", didDocument.alsoKnownAs[1]);",
                "pm.environment.set(\"org_1_tenant_url\", didDocument.services[0].serviceEndpoint);",
                "",
                "pm.test(\"Importer has holder DID\", function () {",
                "     pm.expect(pm.environment.get(\"org_1_holder\")).to.not.be.undefined;",
                "});",
                "",
                "pm.test(\"Importer has service endpoint\", function () {",
                "     pm.expect(pm.environment.get(\"org_1_tenant_url\")).to.not.be.undefined;",
                "});"
              ],
              "_lastExecutionId": "a4e8b98e-3665-4ad6-8b26-619e5de7cc82"
            }
          }
        ]
      },
      {
        "id": "f550ba25-0584-4214-8d71-cb4c1aad1515",
        "name": "00 - Get Freight Forwarder Exchange Endpoint",
        "request": {
          "url": {
            "path": [
              "identifiers",
              "{{ORG_2_DID_WEB}}"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "60053b1d-9fc7-448c-9589-5a84157c0684",
              "type": "text/javascript",
              "exec": [
                "const { didDocument } = pm.response.json()",
                "pm.environment.set(\"org_2_holder\", didDocument.alsoKnownAs[1]);",
                "pm.environment.set(\"org_2_tenant_url\", didDocument.services[0].serviceEndpoint);",
                "",
                "pm.test(\"Freight Forwarder has holder DID\", function () {",
                "     pm.expect(pm.environment.get(\"org_2_holder\")).to.not.be.undefined;",
                "});",
                "",
                "pm.test(\"Freight Forwarder has service endpoint\", function () {",
                "     pm.expect(pm.environment.get(\"org_2_tenant_url\")).to.not.be.undefined;",
                "});"
              ],
              "_lastExecutionId": "343c2593-880c-4eb4-be79-200659920930"
            }
          }
        ]
      },
      {
        "id": "8f152b40-715f-469f-8bc2-923da0548f3b",
        "name": "00 - Get Customs Exchange Endpoint",
        "request": {
          "url": {
            "path": [
              "identifiers",
              "{{ORG_3_DID_WEB}}"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "7560c588-f2f4-4c1b-979d-183a4564deb4",
              "type": "text/javascript",
              "exec": [
                "const { didDocument } = pm.response.json()",
                "pm.environment.set(\"org_3_holder\", didDocument.alsoKnownAs[0]);",
                "pm.environment.set(\"org_3_tenant_url\", didDocument.services[0].serviceEndpoint);",
                "",
                "pm.test(\"Customs has holder DID\", function () {",
                "     pm.expect(pm.environment.get(\"org_3_holder\")).to.not.be.undefined;",
                "});",
                "",
                "pm.test(\"Customs has service endpoint\", function () {",
                "     pm.expect(pm.environment.get(\"org_3_tenant_url\")).to.not.be.undefined;",
                "});"
              ],
              "_lastExecutionId": "6b3bdf30-a0da-438b-a8d4-bc57bfa95b63"
            }
          }
        ]
      },
      {
        "id": "5c5ed07d-6fad-44cb-8a3b-2b4e0af5e360",
        "name": "01 - Importer - Issue Proforma Invoice",
        "request": {
          "url": {
            "path": [
              "credentials",
              "issue"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"credential\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiableCredential\",\n            \"CommercialInvoiceCertificate\"\n        ],\n        \"name\": \"Commercial Invoice Certificate\",\n        \"issuanceDate\": \"2022-02-23T11:55:00Z\",\n        \"issuer\": {\n            \"id\": \"{{org_1_holder}}\",\n            \"type\": [\n                \"Organization\"\n            ],\n            \"address\": {\n                \"type\": [\n                    \"PostalAddress\"\n                ],\n                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                \"addressLocality\": \"Tsubame-shi\",\n                \"addressRegion\": \"Niigata-ken\",\n                \"postalCode\": \"959-0215\",\n                \"addressCountry\": \"Japan\"\n            }\n        },\n        \"credentialSubject\": {\n            \"type\": [\n                \"Invoice\"\n            ],\n            \"portOfEntry\": {\n                \"type\": \"Place\",\n                \"unLocode\": \"USLGB\"\n            },\n            \"destinationCountry\": \"MEX\",\n            \"purchaseDate\": \"2021-02-21\",\n            \"seller\": {\n                \"type\": [\n                    \"Organization\"\n                ],\n                \"address\": {\n                    \"type\": [\n                        \"PostalAddress\"\n                    ],\n                    \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                    \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                    \"addressLocality\": \"Tsubame-shi\",\n                    \"addressRegion\": \"Niigata-ken\",\n                    \"postalCode\": \"959-0215\",\n                    \"addressCountry\": \"Japan\"\n                }\n            },\n            \"buyer\": {\n                \"type\": [\n                    \"Organization\"\n                ],\n                \"address\": {\n                    \"type\": [\n                        \"PostalAddress\"\n                    ],\n                    \"organizationName\": \"Generic Motors of America\",\n                    \"streetAddress\": \"12 Generic Motors Dr\",\n                    \"addressLocality\": \"Detroit\",\n                    \"addressRegion\": \"Michigain\",\n                    \"postalCode\": \"48232-5170\",\n                    \"addressCountry\": \"USA\"\n                }\n            },\n            \"shipToParty\": {\n                \"type\": [\n                    \"Organization\"\n                ],\n                \"address\": {\n                    \"type\": [\n                        \"PostalAddress\"\n                    ],\n                    \"organizationName\": \"Generic Motors of America\",\n                    \"streetAddress\": \"12 Generic Motors Dr\",\n                    \"addressLocality\": \"Detroit\",\n                    \"addressRegion\": \"Michigain\",\n                    \"postalCode\": \"48232-5170\",\n                    \"addressCountry\": \"USA\"\n                }\n            },\n            \"itemsShipped\": [\n                {\n                    \"type\": \"TradeLineItem\",\n                    \"product\": {\n                        \"manufacturer\": {\n                            \"type\": \"Organization\",\n                            \"address\": {\n                                \"type\": \"PostalAddress\",\n                                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                                \"addressLocality\": \"Tsubame-shi\",\n                                \"addressRegion\": \"Niigata-ken\",\n                                \"postalCode\": \"959-0215\",\n                                \"addressCountry\": \"Japan\"\n                            }\n                        },\n                        \"description\": \"UNS S30400 chromium-nickel stainless steel rolls.\",\n                        \"weight\": {\n                            \"type\": \"QuantitativeValue\",\n                            \"unitCode\": \"lbs\",\n                            \"value\": \"16500\"\n                        }\n                    },\n                    \"itemCount\": 5,\n                    \"tradeLineItemWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"value\": \"82500\",\n                        \"unitCode\": \"lbs\"\n                    },\n                    \"priceSpecification\": {\n                        \"type\": \"PriceSpecification\",\n                        \"price\": 5200,\n                        \"priceCurrency\": \"USD\"\n                    }\n                },\n                {\n                    \"type\": \"TradeLineItem\",\n                    \"product\": {\n                        \"manufacturer\": {\n                            \"type\": \"Organization\",\n                            \"address\": {\n                                \"type\": \"PostalAddress\",\n                                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                                \"addressLocality\": \"Tsubame-shi\",\n                                \"addressRegion\": \"Niigata-ken\",\n                                \"postalCode\": \"959-0215\",\n                                \"addressCountry\": \"Japan\"\n                            }\n                        },\n                        \"description\": \"Galvalannealed ASTM A-653 zinc-iron alloy-coated steel sheets.\",\n                        \"weight\": {\n                            \"type\": \"QuantitativeValue\",\n                            \"value\": \"12680\",\n                            \"unitCode\": \"lbs\"\n                        }\n                    },\n                    \"itemCount\": 20,\n                    \"tradeLineItemWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"value\": \"253600\",\n                        \"unitCode\": \"lbs\"\n                    },\n                    \"priceSpecification\": {\n                        \"type\": \"PriceSpecification\",\n                        \"price\": 4400,\n                        \"priceCurrency\": \"USD\"\n                    }\n                }\n            ],\n            \"totalWeight\": {\n                \"type\": \"QuantitativeValue\",\n                \"value\": \"336100\",\n                \"unitCode\": \"lbs\"\n            },\n            \"totalPaymentDue\": {\n                \"type\": \"PriceSpecification\",\n                \"price\": 9600,\n                \"priceCurrency\": \"USD\"\n            }\n        }\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "53b41e74-754f-47ee-ad9f-d9809452132a",
              "type": "text/javascript",
              "exec": [
                "  pm.test(\"Proforma Invoice VC issued\", function () {",
                "      pm.response.to.have.status(201);",
                "      pm.environment.set('importers_proforma_invoice_vc', JSON.stringify(pm.response.json()));",
                "  })"
              ],
              "_lastExecutionId": "746d1aaa-99b4-4256-89c0-a87d51eff49a"
            }
          }
        ]
      },
      {
        "id": "b1e311b2-23b2-4681-96fb-9b18529f2871",
        "name": "02 - Importer - Present to Customs - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "8842ce6c-f9e7-418d-ae69-541af801c864",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_3_domain\", responseJson.domain);",
                "pm.environment.set(\"org_3_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Importer has authenticated to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "273f2248-849b-43d5-b2f6-d33957524aaf"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "46a4cfa6-1e59-499d-b45f-202687e3cbaa",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "6a111bb2-f1c6-42b3-b0ea-6d9ca8c7f531"
            }
          }
        ]
      },
      {
        "id": "66135eea-1cc4-489f-95f3-9015092c2d2b",
        "name": "02 - Importer - Present to Customs - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_1\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_1_holder}}\",\n        \"verifiableCredential\": [\n            {{importers_proforma_invoice_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "6e84293d-2ede-40be-aabb-a0f63a9a3fa5",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"importers_proforma_invoice_presented_to_customs\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Importer VP of Proforma Invoice with workflow instance 'instance_1' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "c916413e-77ba-4fc3-a7bf-eaedb805c150"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "b9b5faa2-f342-4fe3-b1b4-2116cbe43f36",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "9a89c509-446e-43ff-9208-21e53d2ac9ff"
            }
          }
        ]
      },
      {
        "id": "17ba213d-b0a0-41fc-b97a-2c4753defdd1",
        "name": "02 - Importer - Present to Customs - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{importers_proforma_invoice_presented_to_customs}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "b8a3ba71-a01d-4a20-ad50-6db209309496",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Importer has successfully presented Proforma Invoice to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"Proforma Invoice VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "f4efd9ec-85a0-4a4e-9fc2-480c04512e92"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "89b6a76a-749a-480f-be91-9d6747180b58",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "6cb64024-14e4-4391-aae0-0ba6fe313ba8"
            }
          }
        ]
      },
      {
        "id": "fc8a94d0-f2ef-40af-b63a-c194911e6f04",
        "name": "03 - Customs - Verify Proforma Invoice",
        "request": {
          "url": {
            "path": [
              "presentations",
              "verify"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"verifiablePresentation\": {{importers_proforma_invoice_presented_to_customs}},\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}\n",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "9c2dc48d-724a-4b91-aefa-e69c377017c0",
              "type": "text/javascript",
              "exec": [
                "pm.test(\"Customs verifies Proforma Invoice\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "var workflowInstances = JSON.parse(pm.environment.get(\"importers_proforma_invoice_presented_to_customs\")).workflow.instance",
                "",
                "pm.test(\"Customs stores first workflow instance id: \" + workflowInstances[0], function () {",
                "    pm.environment.set(\"customs_first_workflow_instance_id\", workflowInstances[0]);",
                "});",
                "",
                ""
              ],
              "_lastExecutionId": "39e9be5c-0216-4d4a-aa66-b1620766bb78"
            }
          }
        ]
      },
      {
        "id": "261c4775-050d-4a59-80f1-957717bbc8cc",
        "name": "04 - Freight Forwarder - Issue House Waybill",
        "request": {
          "url": {
            "path": [
              "credentials",
              "issue"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"credential\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"id\": \"did:key:z6MkmbqKc6KncFZUbVJwUppttTkiMAtnVJ5wzC5oVBWci3pc\",\n        \"type\": [\n            \"VerifiableCredential\",\n            \"HouseBillOfLadingCertificate\"\n        ],\n        \"name\": \"House Bill Of Lading\",\n        \"issuanceDate\": \"2022-03-04T13:40:00Z\",\n        \"issuer\": {\n            \"type\": \"Organization\",\n            \"id\": \"{{org_2_holder}}\",\n            \"name\": \"World Forward, Inc.\",\n            \"address\": {\n                \"type\": \"PostalAddress\",\n                \"organizationName\": \"MCL Multi Container Line LTD.\",\n                \"streetAddress\": \"Well Fung Ind Centre\",\n                \"addressLocality\": \"Kwai Chung\",\n                \"addressRegion\": \"Hong Kong\",\n                \"addressCountry\": \"Hong Kong\"\n            }\n        },\n        \"credentialSubject\": {\n            \"type\": \"HouseBillOfLading\",\n            \"billOfLadingNumber\": \"FF873363210A\",\n            \"bookingNumber\": [\n                \"FF873363210\"\n            ],\n            \"shipper\": {\n                \"type\": \"Organization\",\n                \"name\": \"Espresso Italiano Co.\",\n                \"address\": {\n                    \"type\": \"PostalAddress\",\n                    \"streetAddress\": \"Via Vico Ferrovia 5\",\n                    \"addressLocality\": \"Goro\",\n                    \"addressRegion\": \"Ferrara\",\n                    \"postalCode\": \"44020\",\n                    \"addressCountry\": \"IT\"\n                },\n                \"email\": \"sales@espresso-italiano.example.com\",\n                \"phoneNumber\": \"+39 0351 9067195\"\n            },\n            \"consignee\": {\n                \"type\": \"Organization\",\n                \"name\": \"Prosumer Coffee Supplies, Ltd.\",\n                \"description\": \"Coffee Machine Imports\",\n                \"address\": {\n                    \"type\": \"PostalAddress\",\n                    \"streetAddress\": \"3934 Spinnaker Lane\",\n                    \"addressLocality\": \"Joliet\",\n                    \"addressRegion\": \"Illinois\",\n                    \"postalCode\": \"60432\",\n                    \"addressCountry\": \"US\"\n                }\n            },\n            \"notifyParty\": [\n                {\n                    \"type\": \"Organization\",\n                    \"name\": \"Prosumer Coffee Supplies, Ltd.\",\n                    \"description\": \"Coffee Machine Imports\",\n                    \"address\": {\n                        \"type\": \"PostalAddress\",\n                        \"streetAddress\": \"3934 Spinnaker Lane\",\n                        \"addressLocality\": \"Joliet\",\n                        \"addressRegion\": \"Illinois\",\n                        \"postalCode\": \"60432\",\n                        \"addressCountry\": \"US\"\n                    }\n                }\n            ],\n            \"carrier\": {\n                \"type\": \"Organization\",\n                \"id\": \"did:key:z6MktHQo3fRRohk44dsbE76CuiTpBmyMWq2VVjvV6aBSeE3U\",\n                \"name\": \"World Forward, Inc.\",\n                \"address\": {\n                    \"type\": \"PostalAddress\",\n                    \"organizationName\": \"MCL Multi Container Line LTD.\",\n                    \"streetAddress\": \"Well Fung Ind Centre\",\n                    \"addressLocality\": \"Kwai Chung\",\n                    \"addressRegion\": \"Hong Kong\",\n                    \"addressCountry\": \"Hong Kong\"\n                }\n            },\n            \"mainCarriageTransportMovement\": {\n                \"type\": \"Transport\",\n                \"vesselNumber\": \"MS Seven Seas\",\n                \"voyageNumber\": \"Atl-W0425\"\n            },\n            \"portOfLoading\": {\n                \"type\": \"Place\",\n                \"unLocode\": \"ITMIL\"\n            },\n            \"portOfDischarge\": {\n                \"type\": \"Place\",\n                \"unLocode\": \"USLGB\"\n            },\n            \"totalNumberOfPackages\": 2200,\n            \"transportEquipmentQuantity\": 2,\n            \"includedConsignmentItems\": [\n                {\n                    \"marksAndNumbers\": \"Espresso Italiano\",\n                    \"commodity\": {\n                        \"type\": \"Commodity\",\n                        \"commodityCode\": \"851671\",\n                        \"commodityCodeType\": \"HS\"\n                    },\n                    \"packageQuantity\": 220,\n                    \"netWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"unitCode\": \"kg\",\n                        \"value\": \"1460\"\n                    },\n                    \"grossWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"unitCode\": \"kg\",\n                        \"value\": \"1590\"\n                    },\n                    \"grossVolume\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"value\": \"85\",\n                        \"unitCode\": \"cmb\"\n                    }\n                }\n            ],\n            \"freightAndCharges\": {\n                \"type\": \"ServiceCharge\",\n                \"chargeCode\": \"basicFreight\",\n                \"paymentTerm\": \"collect\",\n                \"chargeText\": \"Negotiated ocean freight\",\n                \"rate\": {\n                    \"type\": \"PriceSpecification\",\n                    \"price\": 225,\n                    \"priceCurrency\": \"USD\"\n                },\n                \"calculationBasis\": \"Per container\",\n                \"appliedAmount\": {\n                    \"type\": \"PriceSpecification\",\n                    \"price\": 450,\n                    \"priceCurrency\": \"USD\"\n                }\n            },\n            \"declaredValue\": {\n                \"type\": \"PriceSpecification\",\n                \"price\": 24000,\n                \"priceCurrency\": \"USD\"\n            },\n            \"termsAndConditions\": \"https://terms-of-shipment.freightforwarder.example.com\"\n        }\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "f283dd06-c521-4f59-9db2-c0acd1c495f3",
              "type": "text/javascript",
              "exec": [
                "  pm.test(\"House Bill of Lading VC issued\", function () {",
                "      pm.response.to.have.status(201);",
                "      pm.environment.set('freight_forwarders_hbol_vc', JSON.stringify(pm.response.json()));",
                "  })"
              ],
              "_lastExecutionId": "f3963fb0-7bde-48ad-b299-bb2ddb164f28"
            }
          }
        ]
      },
      {
        "id": "1d82c45b-8896-48a3-a4bc-579ec82c667a",
        "name": "05 - Freight Forwarder - Present to Customs - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "3e047fea-10be-4127-a2d6-dbfd7f7553d8",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_3_domain\", responseJson.domain);",
                "pm.environment.set(\"org_3_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Freight Forwarder has authenticated to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "69b41829-ad4a-4b42-bb5e-0e605733ba6c"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "b2be3ad8-165d-4032-a956-ddca65f11ed9",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "1f28adc0-105a-4bbc-b330-c622dbd65199"
            }
          }
        ]
      },
      {
        "id": "ad1b8f9f-4d86-43a5-a2ce-fdc9445b288e",
        "name": "05 - Freight Forwarder - Present to Customs - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_2\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_2_holder}}\",\n        \"verifiableCredential\": [\n            {{freight_forwarders_hbol_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "49d3d690-0f10-4961-9a1c-f1d937d16fa2",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"freight_forwarders_house_bill_presented_to_customs\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Freight Forwarder VP of House Bill of Lading with workflow instance 'instance_2' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "51d98a86-8e04-40ec-a54f-4c81ead6bef5"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "92850984-2eb7-4978-8e9e-83b91b975bf9",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "8e7a5284-1a55-4454-afc7-e2972f5b0b14"
            }
          }
        ]
      },
      {
        "id": "0305dd69-3386-416b-850f-c535e1af455d",
        "name": "05 - Freight Forwarder - Present to Customs - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{freight_forwarders_house_bill_presented_to_customs}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "7e6a754f-ea39-4346-a09c-71495d3a8e2a",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Freight Forwarder has successfully presented House Bill of Lading to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"House Bill of Lading VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "f34d37de-2c50-44a0-88cd-e54ce0d6c13b"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "6c11b93b-c14a-4f13-b7b0-43ed6eb5976e",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "27b81f80-2562-4c9d-b940-c2c08b3a3bfb"
            }
          }
        ]
      },
      {
        "id": "a729c2ba-a61a-4283-8a81-23fab37f189a",
        "name": "06 - Customs - Verify House Waybill",
        "request": {
          "url": {
            "path": [
              "presentations",
              "verify"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"verifiablePresentation\": {{freight_forwarders_house_bill_presented_to_customs}},\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}\n",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "a952091e-0f87-4b43-9a62-e47fe2e9d2d9",
              "type": "text/javascript",
              "exec": [
                "pm.test(\"Customs verifies House Bill of Lading\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "var workflowInstances = JSON.parse(pm.environment.get(\"freight_forwarders_house_bill_presented_to_customs\")).workflow.instance",
                "",
                "pm.test(\"Customs stores first workflow instance id: \" + workflowInstances[0], function () {",
                "    pm.environment.set(\"customs_second_workflow_instance_id\", workflowInstances[0]);",
                "});",
                ""
              ],
              "_lastExecutionId": "bcbf6a6a-30e1-446f-8585-53861eb4cdd1"
            }
          }
        ]
      },
      {
        "id": "5c45bec2-08ff-4063-a4cd-cc042a6147db",
        "name": "07 - Importer - Issue Commercial Invoice",
        "request": {
          "url": {
            "path": [
              "credentials",
              "issue"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\"credential\": \n      {\n    \"@context\": [\n      \"https://www.w3.org/2018/credentials/v1\",\n      \"https://w3id.org/traceability/v1\"\n    ],\n    \"id\": \"did:key:z6MkhNsCYEQQWJdyAbfaMZHz4UG6UZoQUGot7z7tBNsbz1JG\",\n    \"type\": [\n      \"VerifiableCredential\",\n      \"CommercialInvoiceCertificate\"\n    ],\n    \"name\": \"Commercial Invoice Certificate\",\n    \"issuanceDate\": \"2022-02-23T11:55:00Z\",\n    \"issuer\": {\n      \"id\": \"{{org_1_holder}}\",\n      \"type\": [\n        \"Organization\"\n      ],\n      \"address\": {\n        \"type\": [\n          \"PostalAddress\"\n        ],\n        \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n        \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n        \"addressLocality\": \"Tsubame-shi\",\n        \"addressRegion\": \"Niigata-ken\",\n        \"postalCode\": \"959-0215\",\n        \"addressCountry\": \"Japan\"\n      }\n    },\n    \"credentialSubject\": {\n      \"type\": [\n        \"Invoice\"\n      ],\n      \"portOfEntry\": {\n        \"type\": \"Place\",\n        \"unLocode\": \"USLGB\"\n      },\n      \"destinationCountry\": \"MEX\",\n      \"purchaseDate\": \"2021-02-21\",\n      \"seller\": {\n        \"type\": [\n          \"Organization\"\n        ],\n        \"address\": {\n          \"type\": [\n            \"PostalAddress\"\n          ],\n          \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n          \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n          \"addressLocality\": \"Tsubame-shi\",\n          \"addressRegion\": \"Niigata-ken\",\n          \"postalCode\": \"959-0215\",\n          \"addressCountry\": \"Japan\"\n        }\n      },\n      \"buyer\": {\n        \"type\": [\n          \"Organization\"\n        ],\n        \"address\": {\n          \"type\": [\n            \"PostalAddress\"\n          ],\n          \"organizationName\": \"Generic Motors of America\",\n          \"streetAddress\": \"12 Generic Motors Dr\",\n          \"addressLocality\": \"Detroit\",\n          \"addressRegion\": \"Michigain\",\n          \"postalCode\": \"48232-5170\",\n          \"addressCountry\": \"USA\"\n        }\n      },\n      \"shipToParty\": {\n        \"type\": [\n          \"Organization\"\n        ],\n        \"address\": {\n          \"type\": [\n            \"PostalAddress\"\n          ],\n          \"organizationName\": \"Generic Motors of America\",\n          \"streetAddress\": \"12 Generic Motors Dr\",\n          \"addressLocality\": \"Detroit\",\n          \"addressRegion\": \"Michigain\",\n          \"postalCode\": \"48232-5170\",\n          \"addressCountry\": \"USA\"\n        }\n      },\n      \"itemsShipped\": [\n        {\n          \"type\": \"TradeLineItem\",\n          \"product\": {\n            \"manufacturer\": {\n              \"type\": \"Organization\",\n              \"address\": {\n                \"type\": \"PostalAddress\",\n                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                \"addressLocality\": \"Tsubame-shi\",\n                \"addressRegion\": \"Niigata-ken\",\n                \"postalCode\": \"959-0215\",\n                \"addressCountry\": \"Japan\"\n              }\n            },\n            \"description\": \"UNS S30400 chromium-nickel stainless steel rolls.\",\n            \"weight\": {\n              \"type\": \"QuantitativeValue\",\n              \"unitCode\": \"lbs\",\n              \"value\": \"16500\"\n            }\n          },\n          \"itemCount\": 5,\n          \"tradeLineItemWeight\": {\n            \"type\": \"QuantitativeValue\",\n            \"value\": \"82500\",\n            \"unitCode\": \"lbs\"\n          },\n          \"priceSpecification\": {\n            \"type\": \"PriceSpecification\",\n            \"price\": 5200,\n            \"priceCurrency\": \"USD\"\n          }\n        },\n        {\n          \"type\": \"TradeLineItem\",\n          \"product\": {\n            \"manufacturer\": {\n              \"type\": \"Organization\",\n              \"address\": {\n                \"type\": \"PostalAddress\",\n                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                \"addressLocality\": \"Tsubame-shi\",\n                \"addressRegion\": \"Niigata-ken\",\n                \"postalCode\": \"959-0215\",\n                \"addressCountry\": \"Japan\"\n              }\n            },\n            \"description\": \"Galvalannealed ASTM A-653 zinc-iron alloy-coated steel sheets.\",\n            \"weight\": {\n              \"type\": \"QuantitativeValue\",\n              \"value\": \"12680\",\n              \"unitCode\": \"lbs\"\n            }\n          },\n          \"itemCount\": 20,\n          \"tradeLineItemWeight\": {\n            \"type\": \"QuantitativeValue\",\n            \"value\": \"253600\",\n            \"unitCode\": \"lbs\"\n          },\n          \"priceSpecification\": {\n            \"type\": \"PriceSpecification\",\n            \"price\": 4400,\n            \"priceCurrency\": \"USD\"\n          }\n        }\n      ],\n      \"totalWeight\": {\n        \"type\": \"QuantitativeValue\",\n        \"value\": \"336100\",\n        \"unitCode\": \"lbs\"\n      },\n      \"totalPaymentDue\": {\n        \"type\": \"PriceSpecification\",\n        \"price\": 9600,\n        \"priceCurrency\": \"USD\"\n      }\n    }\n  }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "65fc36a4-e63e-47ea-82f8-5b314d9e78fe",
              "type": "text/javascript",
              "exec": [
                "  pm.test(\"Commercial Invoice VC issued\", function () {",
                "      pm.response.to.have.status(201);",
                "      pm.environment.set('importers_commercial_invoice_vc', JSON.stringify(pm.response.json()));",
                "  })"
              ],
              "_lastExecutionId": "7bdfc565-151a-465d-858a-e9bf2797384e"
            }
          }
        ]
      },
      {
        "id": "d0f4036d-8f83-4c83-9132-6d8578dda46c",
        "name": "08 - Importer - Present to Freight Forwarder - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_2_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "60c6bdc9-bbc6-4813-bab4-c6d4ed46e4e0",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_2_domain\", responseJson.domain);",
                "pm.environment.set(\"org_2_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Importer has authenticated to Freight Forwarder\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "cb263ae9-5783-4446-9180-96c69445a072"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "8c5e3234-cc9a-4d0c-989d-6cfa9ca13766",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "ffa9c792-146a-49ac-a939-96828fddd2ec"
            }
          }
        ]
      },
      {
        "id": "4b5c2b55-d402-4031-9cca-553112838fea",
        "name": "08 - Importer - Present to Freight Forwarder - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_1\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_1_holder}}\",\n        \"verifiableCredential\": [\n            {{importers_commercial_invoice_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_2_domain}}\",\n        \"challenge\": \"{{org_2_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "107b9153-8668-45a9-b2a5-5c0967d5128f",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"importers_presentation_of_ci_to_freight_forwarder\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Importer VP of Commercial Invoice with workflow instance 'instance_1' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "77acb2a0-67c1-4c5d-8b8b-46cb9d9da805"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "029cbbcf-007e-4db8-9141-32d468c07910",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "09695a84-3934-40ff-bb28-e250eedf97f1"
            }
          }
        ]
      },
      {
        "id": "f8ce512e-8310-4477-8696-04a8b1d6c24b",
        "name": "08 - Importer - Present to Freight Forwarder - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_2_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{importers_presentation_of_ci_to_freight_forwarder}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "b03cf109-7242-4366-b4a1-ca481bedb946",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Importer has successfully presented Commercial Invoice to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"Commercial Invoice VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "00bc85b9-1226-46e1-b6b1-8f0a9f5b22e8"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "d387d325-7688-4012-8f1d-8fcce9a5e423",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "e6f7506d-7964-4e1b-94b0-fcd640f38328"
            }
          }
        ]
      },
      {
        "id": "f7bffb23-1613-4bb2-8b9a-973553b2560b",
        "name": "09 - Freight Forwarder - Present to Customs - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "87a737cf-ffa0-404f-b53c-95c498eb0cd5",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_3_domain\", responseJson.domain);",
                "pm.environment.set(\"org_3_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Freight Forwarder has authenticated to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "935fe10e-b3ba-4e12-99a6-0022ff5cb134"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "72f9e638-1c26-4238-a964-cbcf76eff15b",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "b66c2c04-11e6-4018-a94c-3c4bbe348f8e"
            }
          }
        ]
      },
      {
        "id": "a1f7d096-f76d-491a-9273-81d3252349e4",
        "name": "09 - Freight Forwarder - Present to Customs - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_1\", \n                \"instance_2\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_2_holder}}\",\n        \"verifiableCredential\": [\n            {{importers_commercial_invoice_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "5bb8bdcb-e129-46af-bbb3-3f1afe946bf2",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"freight_forwarders_presentation_of_ci_to_customs\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Freight Forwarder VP of Commercial Invoice with workflow instances 'instance_1' and 'instance_2' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "c7ffd432-4b52-4ac4-b8fe-7f9c5c89e477"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "9778fa58-398a-4cc5-a974-1a45cbd07331",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "9cd9672b-cc87-4def-b355-b3733ebdb056"
            }
          }
        ]
      },
      {
        "id": "d64ffcd7-625e-430f-9688-00ce26b99854",
        "name": "09 - Freight Forwarder - Present to Customs - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{freight_forwarders_presentation_of_ci_to_customs}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "fe0061e3-707a-4cd3-8be3-b51cb774b4c4",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Freight Forwarder has successfully presented Commercial Invoice to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"Commercial Invoice VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "cd72eea7-0bc5-4242-b5cf-ab3b1f01a77d"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "5ba92c7d-c45d-4e4f-84a7-e57282c2c753",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "f28c1526-95a3-4e0e-bcdd-e281d1e69191"
            }
          }
        ]
      },
      {
        "id": "8f5b55bc-c0b6-483f-81bc-f7486bfa1326",
        "name": "10 - Customs - Verify Commercial Invoice and Join Instances",
        "request": {
          "url": {
            "path": [
              "presentations",
              "verify"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"verifiablePresentation\": {{freight_forwarders_presentation_of_ci_to_customs}},\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}\n",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "b3fee008-1f58-4e2b-aeb2-b868e3fcd3bc",
              "type": "text/javascript",
              "exec": [
                "pm.test(\"Customs verifies Commercial Invoice\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "var workflowInstances = JSON.parse(pm.environment.get(\"freight_forwarders_presentation_of_ci_to_customs\")).workflow.instance",
                "",
                "pm.test(\"Customs checks known workflow instance ids and join the workflows\", function () {",
                "    pm.expect(workflowInstances[0]).to.eql(pm.environment.get(\"customs_first_workflow_instance_id\"));",
                "    pm.expect(workflowInstances[1]).to.eql(pm.environment.get(\"customs_second_workflow_instance_id\"));",
                "});",
                ""
              ],
              "_lastExecutionId": "a587335f-7333-4040-97bd-c18e6b447de5"
            }
          }
        ]
      }
    ]
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 36,
        "pending": 0,
        "failed": 0
      },
      "prerequests": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "tests": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 34,
        "pending": 0,
        "failed": 4
      },
      "testScripts": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "prerequestScripts": {
        "total": 12,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 5410.958333333333,
      "responseMin": 103,
      "responseMax": 14848,
      "responseSd": 4029.099687266444,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1649725605324,
      "completed": 1649725735915
    },
    "executions": [
      {
        "id": "ff76765b-0770-41aa-aa7f-38e6a226d1c6",
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 24,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "97d178bd-cfaf-45fe-822b-a8043260a1d7",
          "httpRequestId": "45f66227-9dc1-4a5c-9bef-e8e5c5988c52"
        },
        "item": {
          "id": "ff76765b-0770-41aa-aa7f-38e6a226d1c6",
          "name": "00 - Importer Access Token"
        },
        "response": {
          "id": "87e56415-c048-464b-a0a0-1174fd838317",
          "status": "OK",
          "code": 200,
          "responseTime": 14848,
          "responseSize": 852
        },
        "assertions": [
          {
            "assertion": "Importer application has access token",
            "skipped": false
          }
        ]
      },
      {
        "id": "c9538ef2-e8c5-49cb-b943-b9e88a6a37b7",
        "cursor": {
          "ref": "ba61a4f9-aa2d-49cc-bcac-6b6aede9cfca",
          "length": 24,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "00a0c3a9-df57-4326-8939-3dbbb6c980de"
        },
        "item": {
          "id": "c9538ef2-e8c5-49cb-b943-b9e88a6a37b7",
          "name": "00 - Freight Forwarder Access Token"
        },
        "response": {
          "id": "3c292d10-2580-4428-9b63-1486ce62fc7c",
          "status": "OK",
          "code": 200,
          "responseTime": 12401,
          "responseSize": 852
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder application has access token",
            "skipped": false
          }
        ]
      },
      {
        "id": "f12af6f8-d3e1-44c9-af17-a2fb849e8e95",
        "cursor": {
          "ref": "0073bd38-96a0-4c8b-8d19-78ea72860845",
          "length": 24,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "7588efbf-3cb3-47b8-a4fe-f213353aca96"
        },
        "item": {
          "id": "f12af6f8-d3e1-44c9-af17-a2fb849e8e95",
          "name": "00 - Customs Access Token"
        },
        "response": {
          "id": "d3af0751-c921-4c81-83f2-ef2bb5bba49d",
          "status": "OK",
          "code": 200,
          "responseTime": 580,
          "responseSize": 852
        },
        "assertions": [
          {
            "assertion": "Customs application has access token",
            "skipped": false
          }
        ]
      },
      {
        "id": "8826726b-b462-4744-b173-9675272c1a93",
        "cursor": {
          "ref": "117b230a-83b2-4ab5-8b77-c3d600434ba9",
          "length": 24,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "23fb615b-14e6-4803-9d03-cd4f1268c7f0"
        },
        "item": {
          "id": "8826726b-b462-4744-b173-9675272c1a93",
          "name": "00 - Get Importer Exchange Endpoint"
        },
        "response": {
          "id": "d92daf63-7a65-4c81-9e91-16af6eda3e2c",
          "status": "OK",
          "code": 200,
          "responseTime": 2779,
          "responseSize": 1092
        },
        "assertions": [
          {
            "assertion": "Importer has holder DID",
            "skipped": false
          },
          {
            "assertion": "Importer has service endpoint",
            "skipped": false
          }
        ]
      },
      {
        "id": "f550ba25-0584-4214-8d71-cb4c1aad1515",
        "cursor": {
          "ref": "7ec8c903-bbf9-46dc-8c8c-04581fe17f07",
          "length": 24,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "c473deb6-ced5-42c4-bd26-6ca75b6fca10"
        },
        "item": {
          "id": "f550ba25-0584-4214-8d71-cb4c1aad1515",
          "name": "00 - Get Freight Forwarder Exchange Endpoint"
        },
        "response": {
          "id": "89e3ebef-b2bd-4d3d-984f-712c8f481eef",
          "status": "OK",
          "code": 200,
          "responseTime": 2419,
          "responseSize": 1092
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has holder DID",
            "skipped": false
          },
          {
            "assertion": "Freight Forwarder has service endpoint",
            "skipped": false
          }
        ]
      },
      {
        "id": "8f152b40-715f-469f-8bc2-923da0548f3b",
        "cursor": {
          "ref": "c86453bb-5337-4d10-87dc-210cb2b5af41",
          "length": 24,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "cad07461-f6ab-4137-9ff0-b63ec6499749"
        },
        "item": {
          "id": "8f152b40-715f-469f-8bc2-923da0548f3b",
          "name": "00 - Get Customs Exchange Endpoint"
        },
        "response": {
          "id": "c9b82e45-b3dc-40a5-af3f-dc3f8935f6bb",
          "status": "OK",
          "code": 200,
          "responseTime": 875,
          "responseSize": 544
        },
        "assertions": [
          {
            "assertion": "Customs has holder DID",
            "skipped": false
          },
          {
            "assertion": "Customs has service endpoint",
            "skipped": false
          }
        ]
      },
      {
        "id": "5c5ed07d-6fad-44cb-8a3b-2b4e0af5e360",
        "cursor": {
          "ref": "725b32e3-a64a-4bc2-8394-a810d89e3cff",
          "length": 24,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "b99e2d60-f633-444a-8291-a1fbadc9909e"
        },
        "item": {
          "id": "5c5ed07d-6fad-44cb-8a3b-2b4e0af5e360",
          "name": "01 - Importer - Issue Proforma Invoice"
        },
        "response": {
          "id": "d266a635-344c-4960-97ca-1b612127759f",
          "status": "Created",
          "code": 201,
          "responseTime": 3735,
          "responseSize": 3383
        },
        "assertions": [
          {
            "assertion": "Proforma Invoice VC issued",
            "skipped": false
          }
        ]
      },
      {
        "id": "b1e311b2-23b2-4681-96fb-9b18529f2871",
        "cursor": {
          "ref": "f578e61b-528f-48ef-bed8-bfecd1515053",
          "length": 24,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "37ab7aa8-e2be-432f-84ab-48c1bc52e851"
        },
        "item": {
          "id": "b1e311b2-23b2-4681-96fb-9b18529f2871",
          "name": "02 - Importer - Present to Customs - (1/3)"
        },
        "response": {
          "id": "27bec99a-7f82-4ebe-9acb-39bbd9469c96",
          "status": "OK",
          "code": 200,
          "responseTime": 103,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Importer has authenticated to Customs",
            "skipped": false
          }
        ]
      },
      {
        "id": "66135eea-1cc4-489f-95f3-9015092c2d2b",
        "cursor": {
          "ref": "957f9f99-9cf7-499c-942a-39d8bcac8ec8",
          "length": 24,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "4f8f86ac-c675-4261-bb0a-37bee9cfc3a8"
        },
        "item": {
          "id": "66135eea-1cc4-489f-95f3-9015092c2d2b",
          "name": "02 - Importer - Present to Customs - (2/3)"
        },
        "response": {
          "id": "3e10592d-edf6-49ea-9a18-8843fb70072f",
          "status": "OK",
          "code": 200,
          "responseTime": 5984,
          "responseSize": 4181
        },
        "assertions": [
          {
            "assertion": "Importer VP of Proforma Invoice with workflow instance 'instance_1' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Importer VP of Proforma Invoice with workflow instance 'instance_1' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:9)"
            }
          }
        ]
      },
      {
        "id": "17ba213d-b0a0-41fc-b97a-2c4753defdd1",
        "cursor": {
          "ref": "a0f91a36-3d16-4d78-a43e-fb6e4a17ff39",
          "length": 24,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "ed799050-d6ca-46f0-91f3-1a11b68c897a"
        },
        "item": {
          "id": "17ba213d-b0a0-41fc-b97a-2c4753defdd1",
          "name": "02 - Importer - Present to Customs - (3/3)"
        },
        "response": {
          "id": "54d4a6d4-5042-4ce2-8b45-115d4a2a9885",
          "status": "OK",
          "code": 200,
          "responseTime": 8070,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Importer has successfully presented Proforma Invoice to Customs",
            "skipped": false
          },
          {
            "assertion": "Proforma Invoice VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "fc8a94d0-f2ef-40af-b63a-c194911e6f04",
        "cursor": {
          "ref": "ac732fc6-35e8-48c1-98df-86e28495a318",
          "length": 24,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "0a8e2190-b61f-440f-a80e-e7c708f71596"
        },
        "item": {
          "id": "fc8a94d0-f2ef-40af-b63a-c194911e6f04",
          "name": "03 - Customs - Verify Proforma Invoice"
        },
        "response": {
          "id": "0f3d5bba-e690-4118-a5db-e98cd1440705",
          "status": "OK",
          "code": 200,
          "responseTime": 9413,
          "responseSize": 2800
        },
        "assertions": [
          {
            "assertion": "Customs verifies Proforma Invoice",
            "skipped": false
          },
          {
            "assertion": "Customs stores first workflow instance id: instance_1",
            "skipped": false
          }
        ]
      },
      {
        "id": "261c4775-050d-4a59-80f1-957717bbc8cc",
        "cursor": {
          "ref": "d01aeed7-d2f7-4717-8915-d8bb3416116d",
          "length": 24,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "ccd1868f-7b63-422e-b08d-81f4047a1efd"
        },
        "item": {
          "id": "261c4775-050d-4a59-80f1-957717bbc8cc",
          "name": "04 - Freight Forwarder - Issue House Waybill"
        },
        "response": {
          "id": "621ec33c-e2be-449c-a1f7-e42d4a542419",
          "status": "Created",
          "code": 201,
          "responseTime": 3482,
          "responseSize": 3507
        },
        "assertions": [
          {
            "assertion": "House Bill of Lading VC issued",
            "skipped": false
          }
        ]
      },
      {
        "id": "1d82c45b-8896-48a3-a4bc-579ec82c667a",
        "cursor": {
          "ref": "d7d4ca3d-55f7-43e5-a546-d17531f4cf33",
          "length": 24,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "56aaa0b6-4e8c-4e9c-8282-9cd3a97cb04d"
        },
        "item": {
          "id": "1d82c45b-8896-48a3-a4bc-579ec82c667a",
          "name": "05 - Freight Forwarder - Present to Customs - (1/3)"
        },
        "response": {
          "id": "6cb0935a-fa55-4b9a-a689-d69dc55ceb68",
          "status": "OK",
          "code": 200,
          "responseTime": 118,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has authenticated to Customs",
            "skipped": false
          }
        ]
      },
      {
        "id": "ad1b8f9f-4d86-43a5-a2ce-fdc9445b288e",
        "cursor": {
          "ref": "6ee54374-2abe-4435-9505-da5574c7b147",
          "length": 24,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "3ccc8028-c5d3-42ac-bc4a-9d1402a1bb67"
        },
        "item": {
          "id": "ad1b8f9f-4d86-43a5-a2ce-fdc9445b288e",
          "name": "05 - Freight Forwarder - Present to Customs - (2/3)"
        },
        "response": {
          "id": "1cee21cd-9502-478a-8f55-cc4b6e7938a6",
          "status": "OK",
          "code": 200,
          "responseTime": 6020,
          "responseSize": 4305
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder VP of House Bill of Lading with workflow instance 'instance_2' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Freight Forwarder VP of House Bill of Lading with workflow instance 'instance_2' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:14)"
            }
          }
        ]
      },
      {
        "id": "0305dd69-3386-416b-850f-c535e1af455d",
        "cursor": {
          "ref": "9b6c726b-40c8-490f-b56c-4057984e8296",
          "length": 24,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "e3429c55-7086-415d-bead-a1ad0ec2530a"
        },
        "item": {
          "id": "0305dd69-3386-416b-850f-c535e1af455d",
          "name": "05 - Freight Forwarder - Present to Customs - (3/3)"
        },
        "response": {
          "id": "c779f57b-5cd2-4abe-ab57-d2b40c06b28e",
          "status": "OK",
          "code": 200,
          "responseTime": 8008,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has successfully presented House Bill of Lading to Customs",
            "skipped": false
          },
          {
            "assertion": "House Bill of Lading VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "a729c2ba-a61a-4283-8a81-23fab37f189a",
        "cursor": {
          "ref": "4c4df8fc-76c9-4eb8-952a-f32e6c678a16",
          "length": 24,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "701f9798-0478-4418-83bc-a271284f4e35"
        },
        "item": {
          "id": "a729c2ba-a61a-4283-8a81-23fab37f189a",
          "name": "06 - Customs - Verify House Waybill"
        },
        "response": {
          "id": "5fc1f8fa-0ccc-439c-8181-25f160186bee",
          "status": "OK",
          "code": 200,
          "responseTime": 8047,
          "responseSize": 2874
        },
        "assertions": [
          {
            "assertion": "Customs verifies House Bill of Lading",
            "skipped": false
          },
          {
            "assertion": "Customs stores first workflow instance id: instance_2",
            "skipped": false
          }
        ]
      },
      {
        "id": "5c45bec2-08ff-4063-a4cd-cc042a6147db",
        "cursor": {
          "ref": "05d83d7b-66b8-4fbf-92de-11a73ef1170d",
          "length": 24,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "55d01b16-0651-40c4-93d6-1d6ea92f3fdf"
        },
        "item": {
          "id": "5c45bec2-08ff-4063-a4cd-cc042a6147db",
          "name": "07 - Importer - Issue Commercial Invoice"
        },
        "response": {
          "id": "693ffd29-f6d5-4996-aa7c-40aaeb3ed665",
          "status": "Created",
          "code": 201,
          "responseTime": 3548,
          "responseSize": 3447
        },
        "assertions": [
          {
            "assertion": "Commercial Invoice VC issued",
            "skipped": false
          }
        ]
      },
      {
        "id": "d0f4036d-8f83-4c83-9132-6d8578dda46c",
        "cursor": {
          "ref": "dcbc9a10-f245-428b-9f3c-d014438b956d",
          "length": 24,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "275ba6f8-de82-4a66-92c0-b25b4c5c9ba7"
        },
        "item": {
          "id": "d0f4036d-8f83-4c83-9132-6d8578dda46c",
          "name": "08 - Importer - Present to Freight Forwarder - (1/3)"
        },
        "response": {
          "id": "c63dd5f2-cf73-4bb8-81cc-9dbcb94094b4",
          "status": "OK",
          "code": 200,
          "responseTime": 136,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Importer has authenticated to Freight Forwarder",
            "skipped": false
          }
        ]
      },
      {
        "id": "4b5c2b55-d402-4031-9cca-553112838fea",
        "cursor": {
          "ref": "171b8f85-5790-45ef-9dfa-ccbc8cabc523",
          "length": 24,
          "cycles": 1,
          "position": 18,
          "iteration": 0,
          "httpRequestId": "55abad47-4fce-4cc2-ad67-941cddbc1ca1"
        },
        "item": {
          "id": "4b5c2b55-d402-4031-9cca-553112838fea",
          "name": "08 - Importer - Present to Freight Forwarder - (2/3)"
        },
        "response": {
          "id": "2acc93e6-0cae-4bbb-96dc-3b48b526c250",
          "status": "OK",
          "code": 200,
          "responseTime": 6302,
          "responseSize": 4245
        },
        "assertions": [
          {
            "assertion": "Importer VP of Commercial Invoice with workflow instance 'instance_1' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Importer VP of Commercial Invoice with workflow instance 'instance_1' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:19)"
            }
          }
        ]
      },
      {
        "id": "f8ce512e-8310-4477-8696-04a8b1d6c24b",
        "cursor": {
          "ref": "58c0a0a0-7220-4269-af65-7c36ae7cc499",
          "length": 24,
          "cycles": 1,
          "position": 19,
          "iteration": 0,
          "httpRequestId": "afe279ce-60d1-4931-9372-9c8c46c7360b"
        },
        "item": {
          "id": "f8ce512e-8310-4477-8696-04a8b1d6c24b",
          "name": "08 - Importer - Present to Freight Forwarder - (3/3)"
        },
        "response": {
          "id": "b186bd00-4749-43e4-9603-75881305f4e7",
          "status": "OK",
          "code": 200,
          "responseTime": 8472,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Importer has successfully presented Commercial Invoice to Customs",
            "skipped": false
          },
          {
            "assertion": "Commercial Invoice VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "f7bffb23-1613-4bb2-8b9a-973553b2560b",
        "cursor": {
          "ref": "d928cb23-4b88-4331-9893-40a7468f2076",
          "length": 24,
          "cycles": 1,
          "position": 20,
          "iteration": 0,
          "httpRequestId": "0d63aa3d-6193-4b48-b678-068debf02170"
        },
        "item": {
          "id": "f7bffb23-1613-4bb2-8b9a-973553b2560b",
          "name": "09 - Freight Forwarder - Present to Customs - (1/3)"
        },
        "response": {
          "id": "92ab4886-10d4-4f1d-af95-21b7e54d0c38",
          "status": "OK",
          "code": 200,
          "responseTime": 128,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has authenticated to Customs",
            "skipped": false
          }
        ]
      },
      {
        "id": "a1f7d096-f76d-491a-9273-81d3252349e4",
        "cursor": {
          "ref": "cdc29867-ccd5-4897-a11c-08c19b8730c9",
          "length": 24,
          "cycles": 1,
          "position": 21,
          "iteration": 0,
          "httpRequestId": "b3300526-7790-482f-890d-ec4f3585f4d5"
        },
        "item": {
          "id": "a1f7d096-f76d-491a-9273-81d3252349e4",
          "name": "09 - Freight Forwarder - Present to Customs - (2/3)"
        },
        "response": {
          "id": "deea83d8-4418-45d0-a2ed-847d8364bbc1",
          "status": "OK",
          "code": 200,
          "responseTime": 7879,
          "responseSize": 4258
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder VP of Commercial Invoice with workflow instances 'instance_1' and 'instance_2' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Freight Forwarder VP of Commercial Invoice with workflow instances 'instance_1' and 'instance_2' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:22)"
            }
          }
        ]
      },
      {
        "id": "d64ffcd7-625e-430f-9688-00ce26b99854",
        "cursor": {
          "ref": "6741c2b4-98e7-4ab7-9bd5-5d80a880cbfc",
          "length": 24,
          "cycles": 1,
          "position": 22,
          "iteration": 0,
          "httpRequestId": "bc7388f7-c20f-436c-85f1-eff0400bd16f"
        },
        "item": {
          "id": "d64ffcd7-625e-430f-9688-00ce26b99854",
          "name": "09 - Freight Forwarder - Present to Customs - (3/3)"
        },
        "response": {
          "id": "0422dfca-72fc-4f5e-b414-f2c568a2670a",
          "status": "OK",
          "code": 200,
          "responseTime": 8372,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has successfully presented Commercial Invoice to Customs",
            "skipped": false
          },
          {
            "assertion": "Commercial Invoice VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "8f5b55bc-c0b6-483f-81bc-f7486bfa1326",
        "cursor": {
          "ref": "b7e859ab-d765-4a9c-b960-0c74df636385",
          "length": 24,
          "cycles": 1,
          "position": 23,
          "iteration": 0,
          "httpRequestId": "fa108b26-c5ef-4fe3-a2ff-b2d17ae03194"
        },
        "item": {
          "id": "8f5b55bc-c0b6-483f-81bc-f7486bfa1326",
          "name": "10 - Customs - Verify Commercial Invoice and Join Instances"
        },
        "response": {
          "id": "9cc01b6e-341d-4253-86ea-25ee376d188f",
          "status": "OK",
          "code": 200,
          "responseTime": 8144,
          "responseSize": 2874
        },
        "assertions": [
          {
            "assertion": "Customs verifies Commercial Invoice",
            "skipped": false
          },
          {
            "assertion": "Customs checks known workflow instance ids and join the workflows",
            "skipped": false
          }
        ]
      }
    ]
  }
}