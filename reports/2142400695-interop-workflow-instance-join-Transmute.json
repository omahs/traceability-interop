{
  "collection": {
    "info": {
      "_postman_id": "6f3afe3d-f721-48df-82f7-eb3d3936f320",
      "name": "eCommerce - Workflow Instance Join",
      "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "item": [
      {
        "id": "8ea436e1-a556-4c8c-bed5-e2c8303c3423",
        "name": "00 - Importer Access Token",
        "request": {
          "url": {
            "host": [
              "{{ORG_1_TOKEN_ENDPOINT}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"audience\": \"{{ORG_1_TOKEN_AUDIENCE}}\",\n    \"client_id\": \"{{ORG_1_CLIENT_ID}}\",\n    \"client_secret\": \"{{ORG_1_CLIENT_SECRET}}\",\n    \"grant_type\": \"client_credentials\"\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "dc77a5c2-a2bd-470b-90af-0576cbdd7be4",
              "type": "text/javascript",
              "exec": [
                "pm.environment.set(\"org_1_access_token\", pm.response.json().access_token);",
                "",
                "pm.test(\"Importer application has access token\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "b9373f8e-5e05-487b-b080-d345ff8885b4"
            }
          }
        ]
      },
      {
        "id": "cfbbc999-d5f9-43ee-94f2-e20984f20eb0",
        "name": "00 - Freight Forwarder Access Token",
        "request": {
          "url": {
            "host": [
              "{{ORG_2_TOKEN_ENDPOINT}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"audience\": \"{{ORG_2_TOKEN_AUDIENCE}}\",\n    \"client_id\": \"{{ORG_2_CLIENT_ID}}\",\n    \"client_secret\": \"{{ORG_2_CLIENT_SECRET}}\",\n    \"grant_type\": \"client_credentials\"\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "fb0ffd9c-4ee2-4c6b-a757-57b210213f91",
              "type": "text/javascript",
              "exec": [
                "pm.environment.set(\"org_2_access_token\", pm.response.json().access_token);",
                "",
                "pm.test(\"Freight Forwarder application has access token\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "381426f1-0d8e-4cf0-ab60-efb48acfb64b"
            }
          }
        ]
      },
      {
        "id": "ab386214-00a9-4f86-948b-1ac3c33533af",
        "name": "00 - Customs Access Token",
        "request": {
          "url": {
            "host": [
              "{{ORG_3_TOKEN_ENDPOINT}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"audience\": \"{{ORG_3_TOKEN_AUDIENCE}}\",\n    \"client_id\": \"{{ORG_3_CLIENT_ID}}\",\n    \"client_secret\": \"{{ORG_3_CLIENT_SECRET}}\",\n    \"grant_type\": \"client_credentials\"\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "51ab78f4-82e3-4429-9282-77b83ef45942",
              "type": "text/javascript",
              "exec": [
                "pm.environment.set(\"org_3_access_token\", pm.response.json().access_token);",
                "",
                "pm.test(\"Customs application has access token\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "e5998823-97ec-41b7-bd6e-2e458d017523"
            }
          }
        ]
      },
      {
        "id": "49ee490a-2ddd-4021-8f40-11966c6b9cbd",
        "name": "00 - Get Importer Exchange Endpoint",
        "request": {
          "url": {
            "path": [
              "identifiers",
              "{{ORG_1_DID_WEB}}"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "ff11c0f7-85a6-4f58-87b1-3070f4089566",
              "type": "text/javascript",
              "exec": [
                "const { didDocument } = pm.response.json()",
                "pm.environment.set(\"org_1_holder\", didDocument.alsoKnownAs[1]);",
                "pm.environment.set(\"org_1_tenant_url\", didDocument.services[0].serviceEndpoint);",
                "",
                "pm.test(\"Importer has holder DID\", function () {",
                "     pm.expect(pm.environment.get(\"org_1_holder\")).to.not.be.undefined;",
                "});",
                "",
                "pm.test(\"Importer has service endpoint\", function () {",
                "     pm.expect(pm.environment.get(\"org_1_tenant_url\")).to.not.be.undefined;",
                "});"
              ],
              "_lastExecutionId": "2b3a1b19-fff4-4957-b07c-1e45a6bcf0c3"
            }
          }
        ]
      },
      {
        "id": "95deb5dc-8b39-445c-ba96-984f199b30b7",
        "name": "00 - Get Freight Forwarder Exchange Endpoint",
        "request": {
          "url": {
            "path": [
              "identifiers",
              "{{ORG_2_DID_WEB}}"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "3d7f5d40-e5bd-4e72-a038-bddbec82e7f2",
              "type": "text/javascript",
              "exec": [
                "const { didDocument } = pm.response.json()",
                "pm.environment.set(\"org_2_holder\", didDocument.alsoKnownAs[1]);",
                "pm.environment.set(\"org_2_tenant_url\", didDocument.services[0].serviceEndpoint);",
                "",
                "pm.test(\"Freight Forwarder has holder DID\", function () {",
                "     pm.expect(pm.environment.get(\"org_2_holder\")).to.not.be.undefined;",
                "});",
                "",
                "pm.test(\"Freight Forwarder has service endpoint\", function () {",
                "     pm.expect(pm.environment.get(\"org_2_tenant_url\")).to.not.be.undefined;",
                "});"
              ],
              "_lastExecutionId": "ed14cc46-35ad-49d6-a3cf-0fec1b58eae0"
            }
          }
        ]
      },
      {
        "id": "5b52d0ae-77ab-41f8-a128-c84166fb8310",
        "name": "00 - Get Customs Exchange Endpoint",
        "request": {
          "url": {
            "path": [
              "identifiers",
              "{{ORG_3_DID_WEB}}"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "GET",
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "8f04893c-ac83-4a6f-b757-126083e3ebb7",
              "type": "text/javascript",
              "exec": [
                "const { didDocument } = pm.response.json()",
                "pm.environment.set(\"org_3_holder\", didDocument.alsoKnownAs[0]);",
                "pm.environment.set(\"org_3_tenant_url\", didDocument.services[0].serviceEndpoint);",
                "",
                "pm.test(\"Customs has holder DID\", function () {",
                "     pm.expect(pm.environment.get(\"org_3_holder\")).to.not.be.undefined;",
                "});",
                "",
                "pm.test(\"Customs has service endpoint\", function () {",
                "     pm.expect(pm.environment.get(\"org_3_tenant_url\")).to.not.be.undefined;",
                "});"
              ],
              "_lastExecutionId": "a2d55ea4-d6ba-489e-8e70-d35a7233ab1e"
            }
          }
        ]
      },
      {
        "id": "5c4cdf78-e5a1-4a06-b747-e64b0fb80b64",
        "name": "01 - Importer - Issue Proforma Invoice",
        "request": {
          "url": {
            "path": [
              "credentials",
              "issue"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"credential\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiableCredential\",\n            \"CommercialInvoiceCertificate\"\n        ],\n        \"name\": \"Commercial Invoice Certificate\",\n        \"issuanceDate\": \"2022-02-23T11:55:00Z\",\n        \"issuer\": {\n            \"id\": \"{{org_1_holder}}\",\n            \"type\": [\n                \"Organization\"\n            ],\n            \"address\": {\n                \"type\": [\n                    \"PostalAddress\"\n                ],\n                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                \"addressLocality\": \"Tsubame-shi\",\n                \"addressRegion\": \"Niigata-ken\",\n                \"postalCode\": \"959-0215\",\n                \"addressCountry\": \"Japan\"\n            }\n        },\n        \"credentialSubject\": {\n            \"type\": [\n                \"Invoice\"\n            ],\n            \"portOfEntry\": {\n                \"type\": \"Place\",\n                \"unLocode\": \"USLGB\"\n            },\n            \"destinationCountry\": \"MEX\",\n            \"purchaseDate\": \"2021-02-21\",\n            \"seller\": {\n                \"type\": [\n                    \"Organization\"\n                ],\n                \"address\": {\n                    \"type\": [\n                        \"PostalAddress\"\n                    ],\n                    \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                    \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                    \"addressLocality\": \"Tsubame-shi\",\n                    \"addressRegion\": \"Niigata-ken\",\n                    \"postalCode\": \"959-0215\",\n                    \"addressCountry\": \"Japan\"\n                }\n            },\n            \"buyer\": {\n                \"type\": [\n                    \"Organization\"\n                ],\n                \"address\": {\n                    \"type\": [\n                        \"PostalAddress\"\n                    ],\n                    \"organizationName\": \"Generic Motors of America\",\n                    \"streetAddress\": \"12 Generic Motors Dr\",\n                    \"addressLocality\": \"Detroit\",\n                    \"addressRegion\": \"Michigain\",\n                    \"postalCode\": \"48232-5170\",\n                    \"addressCountry\": \"USA\"\n                }\n            },\n            \"shipToParty\": {\n                \"type\": [\n                    \"Organization\"\n                ],\n                \"address\": {\n                    \"type\": [\n                        \"PostalAddress\"\n                    ],\n                    \"organizationName\": \"Generic Motors of America\",\n                    \"streetAddress\": \"12 Generic Motors Dr\",\n                    \"addressLocality\": \"Detroit\",\n                    \"addressRegion\": \"Michigain\",\n                    \"postalCode\": \"48232-5170\",\n                    \"addressCountry\": \"USA\"\n                }\n            },\n            \"itemsShipped\": [\n                {\n                    \"type\": \"TradeLineItem\",\n                    \"product\": {\n                        \"manufacturer\": {\n                            \"type\": \"Organization\",\n                            \"address\": {\n                                \"type\": \"PostalAddress\",\n                                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                                \"addressLocality\": \"Tsubame-shi\",\n                                \"addressRegion\": \"Niigata-ken\",\n                                \"postalCode\": \"959-0215\",\n                                \"addressCountry\": \"Japan\"\n                            }\n                        },\n                        \"description\": \"UNS S30400 chromium-nickel stainless steel rolls.\",\n                        \"weight\": {\n                            \"type\": \"QuantitativeValue\",\n                            \"unitCode\": \"lbs\",\n                            \"value\": \"16500\"\n                        }\n                    },\n                    \"itemCount\": 5,\n                    \"tradeLineItemWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"value\": \"82500\",\n                        \"unitCode\": \"lbs\"\n                    },\n                    \"priceSpecification\": {\n                        \"type\": \"PriceSpecification\",\n                        \"price\": 5200,\n                        \"priceCurrency\": \"USD\"\n                    }\n                },\n                {\n                    \"type\": \"TradeLineItem\",\n                    \"product\": {\n                        \"manufacturer\": {\n                            \"type\": \"Organization\",\n                            \"address\": {\n                                \"type\": \"PostalAddress\",\n                                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                                \"addressLocality\": \"Tsubame-shi\",\n                                \"addressRegion\": \"Niigata-ken\",\n                                \"postalCode\": \"959-0215\",\n                                \"addressCountry\": \"Japan\"\n                            }\n                        },\n                        \"description\": \"Galvalannealed ASTM A-653 zinc-iron alloy-coated steel sheets.\",\n                        \"weight\": {\n                            \"type\": \"QuantitativeValue\",\n                            \"value\": \"12680\",\n                            \"unitCode\": \"lbs\"\n                        }\n                    },\n                    \"itemCount\": 20,\n                    \"tradeLineItemWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"value\": \"253600\",\n                        \"unitCode\": \"lbs\"\n                    },\n                    \"priceSpecification\": {\n                        \"type\": \"PriceSpecification\",\n                        \"price\": 4400,\n                        \"priceCurrency\": \"USD\"\n                    }\n                }\n            ],\n            \"totalWeight\": {\n                \"type\": \"QuantitativeValue\",\n                \"value\": \"336100\",\n                \"unitCode\": \"lbs\"\n            },\n            \"totalPaymentDue\": {\n                \"type\": \"PriceSpecification\",\n                \"price\": 9600,\n                \"priceCurrency\": \"USD\"\n            }\n        }\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "661052c2-bc45-43e7-9c40-9a6dc5e0b4cd",
              "type": "text/javascript",
              "exec": [
                "  pm.test(\"Proforma Invoice VC issued\", function () {",
                "      pm.response.to.have.status(201);",
                "      pm.environment.set('importers_proforma_invoice_vc', JSON.stringify(pm.response.json()));",
                "  })"
              ],
              "_lastExecutionId": "87308260-7864-4edf-b401-3ac92834a2dc"
            }
          }
        ]
      },
      {
        "id": "002c55bf-9e2c-4d3e-9360-a6b35fe7f366",
        "name": "02 - Importer - Present to Customs - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "afac6c02-0e50-4b00-9844-a7ae946c8839",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_3_domain\", responseJson.domain);",
                "pm.environment.set(\"org_3_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Importer has authenticated to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "ca193b1d-2b44-4faf-8a4c-f782c6d34178"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "9f6d2e29-0306-475e-ac9a-043627eb1558",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "d660c53c-e8e0-4419-afcb-c6e8fa023aec"
            }
          }
        ]
      },
      {
        "id": "80782864-0ec0-47a2-97ce-ebad76f4ad08",
        "name": "02 - Importer - Present to Customs - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_1\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_1_holder}}\",\n        \"verifiableCredential\": [\n            {{importers_proforma_invoice_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "f58d121e-6ba5-4554-aa6c-1f98eeafd771",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"importers_proforma_invoice_presented_to_customs\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Importer VP of Proforma Invoice with workflow instance 'instance_1' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "d732e036-7edc-4338-9b29-5f04e6b726e0"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "1b553b8a-9da7-47cb-8204-e91b00bc901c",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "f90cd8e8-b89f-4a3a-bc88-2d5249388a1f"
            }
          }
        ]
      },
      {
        "id": "df1ff4a3-1276-4920-8eec-3048bde600ae",
        "name": "02 - Importer - Present to Customs - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{importers_proforma_invoice_presented_to_customs}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "393e8c0c-dcee-40a6-a1f2-b2f8276c0b25",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Importer has successfully presented Proforma Invoice to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"Proforma Invoice VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "3944ac88-37e8-430e-989f-068118002950"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "a8a1be28-bc17-4ad1-86a0-25b22289ee96",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "51b93ae1-fc52-4f38-9ed0-b002dee557ec"
            }
          }
        ]
      },
      {
        "id": "7c11eea7-fe67-49d1-a0b1-1857bf0db785",
        "name": "03 - Customs - Verify Proforma Invoice",
        "request": {
          "url": {
            "path": [
              "presentations",
              "verify"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"verifiablePresentation\": {{importers_proforma_invoice_presented_to_customs}},\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}\n",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "aaa4263a-b8eb-476f-83bf-0ba70ed69868",
              "type": "text/javascript",
              "exec": [
                "pm.test(\"Customs verifies Proforma Invoice\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "var workflowInstances = JSON.parse(pm.environment.get(\"importers_proforma_invoice_presented_to_customs\")).workflow.instance",
                "",
                "pm.test(\"Customs stores first workflow instance id: \" + workflowInstances[0], function () {",
                "    pm.environment.set(\"customs_first_workflow_instance_id\", workflowInstances[0]);",
                "});",
                "",
                ""
              ],
              "_lastExecutionId": "d66f1e48-6d3c-4cbc-90e3-6160341fb67b"
            }
          }
        ]
      },
      {
        "id": "23a4f36e-4212-4197-93f1-14be5cef9889",
        "name": "04 - Freight Forwarder - Issue House Waybill",
        "request": {
          "url": {
            "path": [
              "credentials",
              "issue"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"credential\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"id\": \"did:key:z6MkmbqKc6KncFZUbVJwUppttTkiMAtnVJ5wzC5oVBWci3pc\",\n        \"type\": [\n            \"VerifiableCredential\",\n            \"HouseBillOfLadingCertificate\"\n        ],\n        \"name\": \"House Bill Of Lading\",\n        \"issuanceDate\": \"2022-03-04T13:40:00Z\",\n        \"issuer\": {\n            \"type\": \"Organization\",\n            \"id\": \"{{org_2_holder}}\",\n            \"name\": \"World Forward, Inc.\",\n            \"address\": {\n                \"type\": \"PostalAddress\",\n                \"organizationName\": \"MCL Multi Container Line LTD.\",\n                \"streetAddress\": \"Well Fung Ind Centre\",\n                \"addressLocality\": \"Kwai Chung\",\n                \"addressRegion\": \"Hong Kong\",\n                \"addressCountry\": \"Hong Kong\"\n            }\n        },\n        \"credentialSubject\": {\n            \"type\": \"HouseBillOfLading\",\n            \"billOfLadingNumber\": \"FF873363210A\",\n            \"bookingNumber\": [\n                \"FF873363210\"\n            ],\n            \"shipper\": {\n                \"type\": \"Organization\",\n                \"name\": \"Espresso Italiano Co.\",\n                \"address\": {\n                    \"type\": \"PostalAddress\",\n                    \"streetAddress\": \"Via Vico Ferrovia 5\",\n                    \"addressLocality\": \"Goro\",\n                    \"addressRegion\": \"Ferrara\",\n                    \"postalCode\": \"44020\",\n                    \"addressCountry\": \"IT\"\n                },\n                \"email\": \"sales@espresso-italiano.example.com\",\n                \"phoneNumber\": \"+39 0351 9067195\"\n            },\n            \"consignee\": {\n                \"type\": \"Organization\",\n                \"name\": \"Prosumer Coffee Supplies, Ltd.\",\n                \"description\": \"Coffee Machine Imports\",\n                \"address\": {\n                    \"type\": \"PostalAddress\",\n                    \"streetAddress\": \"3934 Spinnaker Lane\",\n                    \"addressLocality\": \"Joliet\",\n                    \"addressRegion\": \"Illinois\",\n                    \"postalCode\": \"60432\",\n                    \"addressCountry\": \"US\"\n                }\n            },\n            \"notifyParty\": [\n                {\n                    \"type\": \"Organization\",\n                    \"name\": \"Prosumer Coffee Supplies, Ltd.\",\n                    \"description\": \"Coffee Machine Imports\",\n                    \"address\": {\n                        \"type\": \"PostalAddress\",\n                        \"streetAddress\": \"3934 Spinnaker Lane\",\n                        \"addressLocality\": \"Joliet\",\n                        \"addressRegion\": \"Illinois\",\n                        \"postalCode\": \"60432\",\n                        \"addressCountry\": \"US\"\n                    }\n                }\n            ],\n            \"carrier\": {\n                \"type\": \"Organization\",\n                \"id\": \"did:key:z6MktHQo3fRRohk44dsbE76CuiTpBmyMWq2VVjvV6aBSeE3U\",\n                \"name\": \"World Forward, Inc.\",\n                \"address\": {\n                    \"type\": \"PostalAddress\",\n                    \"organizationName\": \"MCL Multi Container Line LTD.\",\n                    \"streetAddress\": \"Well Fung Ind Centre\",\n                    \"addressLocality\": \"Kwai Chung\",\n                    \"addressRegion\": \"Hong Kong\",\n                    \"addressCountry\": \"Hong Kong\"\n                }\n            },\n            \"mainCarriageTransportMovement\": {\n                \"type\": \"Transport\",\n                \"vesselNumber\": \"MS Seven Seas\",\n                \"voyageNumber\": \"Atl-W0425\"\n            },\n            \"portOfLoading\": {\n                \"type\": \"Place\",\n                \"unLocode\": \"ITMIL\"\n            },\n            \"portOfDischarge\": {\n                \"type\": \"Place\",\n                \"unLocode\": \"USLGB\"\n            },\n            \"totalNumberOfPackages\": 2200,\n            \"transportEquipmentQuantity\": 2,\n            \"includedConsignmentItems\": [\n                {\n                    \"marksAndNumbers\": \"Espresso Italiano\",\n                    \"commodity\": {\n                        \"type\": \"Commodity\",\n                        \"commodityCode\": \"851671\",\n                        \"commodityCodeType\": \"HS\"\n                    },\n                    \"packageQuantity\": 220,\n                    \"netWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"unitCode\": \"kg\",\n                        \"value\": \"1460\"\n                    },\n                    \"grossWeight\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"unitCode\": \"kg\",\n                        \"value\": \"1590\"\n                    },\n                    \"grossVolume\": {\n                        \"type\": \"QuantitativeValue\",\n                        \"value\": \"85\",\n                        \"unitCode\": \"cmb\"\n                    }\n                }\n            ],\n            \"freightAndCharges\": {\n                \"type\": \"ServiceCharge\",\n                \"chargeCode\": \"basicFreight\",\n                \"paymentTerm\": \"collect\",\n                \"chargeText\": \"Negotiated ocean freight\",\n                \"rate\": {\n                    \"type\": \"PriceSpecification\",\n                    \"price\": 225,\n                    \"priceCurrency\": \"USD\"\n                },\n                \"calculationBasis\": \"Per container\",\n                \"appliedAmount\": {\n                    \"type\": \"PriceSpecification\",\n                    \"price\": 450,\n                    \"priceCurrency\": \"USD\"\n                }\n            },\n            \"declaredValue\": {\n                \"type\": \"PriceSpecification\",\n                \"price\": 24000,\n                \"priceCurrency\": \"USD\"\n            },\n            \"termsAndConditions\": \"https://terms-of-shipment.freightforwarder.example.com\"\n        }\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "7a1a5dfd-7be4-4720-ae09-55148abc5adf",
              "type": "text/javascript",
              "exec": [
                "  pm.test(\"House Bill of Lading VC issued\", function () {",
                "      pm.response.to.have.status(201);",
                "      pm.environment.set('freight_forwarders_hbol_vc', JSON.stringify(pm.response.json()));",
                "  })"
              ],
              "_lastExecutionId": "98d57e05-e417-4b52-9e20-b7738b1dc769"
            }
          }
        ]
      },
      {
        "id": "1a6367d4-072d-4be8-85e1-8afb4ae88257",
        "name": "05 - Freight Forwarder - Present to Customs - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "53bc7ff5-dcea-4e5c-b37d-ad4ee24fe583",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_3_domain\", responseJson.domain);",
                "pm.environment.set(\"org_3_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Freight Forwarder has authenticated to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "c109bbf8-feda-447a-ba51-3217bcb53ae6"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "148a7dec-5f5d-4b4f-a2bb-1e66788f5fab",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "1050bf82-8029-4e1b-9f95-b6d221d3167b"
            }
          }
        ]
      },
      {
        "id": "b5cdbee9-45ea-4788-8cab-aca77d3f3c23",
        "name": "05 - Freight Forwarder - Present to Customs - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_2\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_2_holder}}\",\n        \"verifiableCredential\": [\n            {{freight_forwarders_hbol_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "bb2e0674-67aa-449c-b663-d361a0b8c600",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"freight_forwarders_house_bill_presented_to_customs\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Freight Forwarder VP of House Bill of Lading with workflow instance 'instance_2' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "7be8d5f1-fb97-4ce7-bbd7-b2847b5ee576"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "16bc387e-4774-42dd-b6aa-22a837e47618",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "a517705b-afe7-4fea-a727-6a749a1dff05"
            }
          }
        ]
      },
      {
        "id": "4d44f895-12eb-4699-90d1-17e030c6aae0",
        "name": "05 - Freight Forwarder - Present to Customs - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{freight_forwarders_house_bill_presented_to_customs}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "1201b5e6-9ac6-4ae9-a61f-38a520e1bcc9",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Freight Forwarder has successfully presented House Bill of Lading to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"House Bill of Lading VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "bf6db44b-53ae-4024-9554-2f7776112b8c"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "2ff346f0-eafb-4b3a-89e5-9de6c4582e39",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "6cae875b-963c-4373-b118-bb420e5a78a7"
            }
          }
        ]
      },
      {
        "id": "7889bbb3-8cbb-4c9b-9b34-ee9f21abb5c9",
        "name": "06 - Customs - Verify House Waybill",
        "request": {
          "url": {
            "path": [
              "presentations",
              "verify"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"verifiablePresentation\": {{freight_forwarders_house_bill_presented_to_customs}},\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}\n",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "c836f05a-45b0-4d3b-b86f-364d5324cffb",
              "type": "text/javascript",
              "exec": [
                "pm.test(\"Customs verifies House Bill of Lading\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "var workflowInstances = JSON.parse(pm.environment.get(\"freight_forwarders_house_bill_presented_to_customs\")).workflow.instance",
                "",
                "pm.test(\"Customs stores first workflow instance id: \" + workflowInstances[0], function () {",
                "    pm.environment.set(\"customs_second_workflow_instance_id\", workflowInstances[0]);",
                "});",
                ""
              ],
              "_lastExecutionId": "7ede6226-9d60-40e1-a14b-d272fb951930"
            }
          }
        ]
      },
      {
        "id": "433769ea-cb81-406b-a8e2-f6b8a49f938e",
        "name": "07 - Importer - Issue Commercial Invoice",
        "request": {
          "url": {
            "path": [
              "credentials",
              "issue"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\"credential\": \n      {\n    \"@context\": [\n      \"https://www.w3.org/2018/credentials/v1\",\n      \"https://w3id.org/traceability/v1\"\n    ],\n    \"id\": \"did:key:z6MkhNsCYEQQWJdyAbfaMZHz4UG6UZoQUGot7z7tBNsbz1JG\",\n    \"type\": [\n      \"VerifiableCredential\",\n      \"CommercialInvoiceCertificate\"\n    ],\n    \"name\": \"Commercial Invoice Certificate\",\n    \"issuanceDate\": \"2022-02-23T11:55:00Z\",\n    \"issuer\": {\n      \"id\": \"{{org_1_holder}}\",\n      \"type\": [\n        \"Organization\"\n      ],\n      \"address\": {\n        \"type\": [\n          \"PostalAddress\"\n        ],\n        \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n        \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n        \"addressLocality\": \"Tsubame-shi\",\n        \"addressRegion\": \"Niigata-ken\",\n        \"postalCode\": \"959-0215\",\n        \"addressCountry\": \"Japan\"\n      }\n    },\n    \"credentialSubject\": {\n      \"type\": [\n        \"Invoice\"\n      ],\n      \"portOfEntry\": {\n        \"type\": \"Place\",\n        \"unLocode\": \"USLGB\"\n      },\n      \"destinationCountry\": \"MEX\",\n      \"purchaseDate\": \"2021-02-21\",\n      \"seller\": {\n        \"type\": [\n          \"Organization\"\n        ],\n        \"address\": {\n          \"type\": [\n            \"PostalAddress\"\n          ],\n          \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n          \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n          \"addressLocality\": \"Tsubame-shi\",\n          \"addressRegion\": \"Niigata-ken\",\n          \"postalCode\": \"959-0215\",\n          \"addressCountry\": \"Japan\"\n        }\n      },\n      \"buyer\": {\n        \"type\": [\n          \"Organization\"\n        ],\n        \"address\": {\n          \"type\": [\n            \"PostalAddress\"\n          ],\n          \"organizationName\": \"Generic Motors of America\",\n          \"streetAddress\": \"12 Generic Motors Dr\",\n          \"addressLocality\": \"Detroit\",\n          \"addressRegion\": \"Michigain\",\n          \"postalCode\": \"48232-5170\",\n          \"addressCountry\": \"USA\"\n        }\n      },\n      \"shipToParty\": {\n        \"type\": [\n          \"Organization\"\n        ],\n        \"address\": {\n          \"type\": [\n            \"PostalAddress\"\n          ],\n          \"organizationName\": \"Generic Motors of America\",\n          \"streetAddress\": \"12 Generic Motors Dr\",\n          \"addressLocality\": \"Detroit\",\n          \"addressRegion\": \"Michigain\",\n          \"postalCode\": \"48232-5170\",\n          \"addressCountry\": \"USA\"\n        }\n      },\n      \"itemsShipped\": [\n        {\n          \"type\": \"TradeLineItem\",\n          \"product\": {\n            \"manufacturer\": {\n              \"type\": \"Organization\",\n              \"address\": {\n                \"type\": \"PostalAddress\",\n                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                \"addressLocality\": \"Tsubame-shi\",\n                \"addressRegion\": \"Niigata-ken\",\n                \"postalCode\": \"959-0215\",\n                \"addressCountry\": \"Japan\"\n              }\n            },\n            \"description\": \"UNS S30400 chromium-nickel stainless steel rolls.\",\n            \"weight\": {\n              \"type\": \"QuantitativeValue\",\n              \"unitCode\": \"lbs\",\n              \"value\": \"16500\"\n            }\n          },\n          \"itemCount\": 5,\n          \"tradeLineItemWeight\": {\n            \"type\": \"QuantitativeValue\",\n            \"value\": \"82500\",\n            \"unitCode\": \"lbs\"\n          },\n          \"priceSpecification\": {\n            \"type\": \"PriceSpecification\",\n            \"price\": 5200,\n            \"priceCurrency\": \"USD\"\n          }\n        },\n        {\n          \"type\": \"TradeLineItem\",\n          \"product\": {\n            \"manufacturer\": {\n              \"type\": \"Organization\",\n              \"address\": {\n                \"type\": \"PostalAddress\",\n                \"organizationName\": \"Aishi Metal Shinzo Co., Ltd.\",\n                \"streetAddress\": \"1651, Shimonakano, Yoshida\",\n                \"addressLocality\": \"Tsubame-shi\",\n                \"addressRegion\": \"Niigata-ken\",\n                \"postalCode\": \"959-0215\",\n                \"addressCountry\": \"Japan\"\n              }\n            },\n            \"description\": \"Galvalannealed ASTM A-653 zinc-iron alloy-coated steel sheets.\",\n            \"weight\": {\n              \"type\": \"QuantitativeValue\",\n              \"value\": \"12680\",\n              \"unitCode\": \"lbs\"\n            }\n          },\n          \"itemCount\": 20,\n          \"tradeLineItemWeight\": {\n            \"type\": \"QuantitativeValue\",\n            \"value\": \"253600\",\n            \"unitCode\": \"lbs\"\n          },\n          \"priceSpecification\": {\n            \"type\": \"PriceSpecification\",\n            \"price\": 4400,\n            \"priceCurrency\": \"USD\"\n          }\n        }\n      ],\n      \"totalWeight\": {\n        \"type\": \"QuantitativeValue\",\n        \"value\": \"336100\",\n        \"unitCode\": \"lbs\"\n      },\n      \"totalPaymentDue\": {\n        \"type\": \"PriceSpecification\",\n        \"price\": 9600,\n        \"priceCurrency\": \"USD\"\n      }\n    }\n  }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "6aa69556-3bf4-4a0f-aa02-5e3a63bc0591",
              "type": "text/javascript",
              "exec": [
                "  pm.test(\"Commercial Invoice VC issued\", function () {",
                "      pm.response.to.have.status(201);",
                "      pm.environment.set('importers_commercial_invoice_vc', JSON.stringify(pm.response.json()));",
                "  })"
              ],
              "_lastExecutionId": "8f42187f-3593-4932-a74f-c2fbf82de73c"
            }
          }
        ]
      },
      {
        "id": "0bff27ef-ee58-4406-9bfa-78c0b76ec629",
        "name": "08 - Importer - Present to Freight Forwarder - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_2_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "0f267510-97a7-49b5-b848-96dab2a7d5d5",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_2_domain\", responseJson.domain);",
                "pm.environment.set(\"org_2_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Importer has authenticated to Freight Forwarder\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "1be32d12-4605-4ad5-b67f-4ff6f705a0fa"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "df92f898-4479-4e2b-bfe5-1d47d15ddc8a",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "911d5338-4a40-4499-8bce-1f91297cfc33"
            }
          }
        ]
      },
      {
        "id": "6c269d33-c4ce-4b7e-a212-60f5a7090602",
        "name": "08 - Importer - Present to Freight Forwarder - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_1_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_1\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_1_holder}}\",\n        \"verifiableCredential\": [\n            {{importers_commercial_invoice_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_2_domain}}\",\n        \"challenge\": \"{{org_2_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_1_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "f68f345c-cc64-4c0c-9c14-138fdb6020c1",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"importers_presentation_of_ci_to_freight_forwarder\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Importer VP of Commercial Invoice with workflow instance 'instance_1' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "d2e13a9b-f87d-421a-9c3a-b9eb005dc2af"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "5d705261-69d5-43ec-a738-c5ecf415c2b9",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "3b59aed5-8e33-4b0a-9248-af8ca57d35c3"
            }
          }
        ]
      },
      {
        "id": "328e538f-ab8e-4265-8afd-78fd96574e35",
        "name": "08 - Importer - Present to Freight Forwarder - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_2_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{importers_presentation_of_ci_to_freight_forwarder}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "f593a75a-06c5-4102-9681-7c03d1c626ed",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Importer has successfully presented Commercial Invoice to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"Commercial Invoice VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "70a18d91-7343-45f4-9e4b-0c6e76bd4d8d"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "da4069a5-a72d-4ce1-a070-5036ed7c032f",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "c9a51077-6bde-4abf-9fd6-52307f24b232"
            }
          }
        ]
      },
      {
        "id": "c85a0e79-6b3b-4b49-8bf4-3c1d727a0ae5",
        "name": "09 - Freight Forwarder - Present to Customs - (1/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "available"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n  \"query\": [\n    {\n      \"type\": \"QueryByExample\",\n      \"credentialQuery\": [\n        {\n          \"type\": [\n            \"VerifiableCredential\"\n          ],\n          \"reason\": \"We want to present credentials.\"\n        }\n      ]\n    }\n  ]\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "1d8d2e27-390a-45d6-a1e9-25bc4b72e1bc",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"org_3_domain\", responseJson.domain);",
                "pm.environment.set(\"org_3_challenge\", responseJson.challenge);",
                "",
                "pm.test(\"Freight Forwarder has authenticated to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});"
              ],
              "_lastExecutionId": "10991948-6b28-4379-bf12-65a2c89f1dc2"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "d10fa8a7-7e2c-4c92-9660-63bd49a6843a",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "a97b2e91-6565-4c0c-ad9d-4ba1a1b78b89"
            }
          }
        ]
      },
      {
        "id": "cebadb27-c9df-4cd8-b05a-725747720810",
        "name": "09 - Freight Forwarder - Present to Customs - (2/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "prove"
            ],
            "host": [
              "{{ORG_2_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"presentation\": {\n        \"@context\": [\n            \"https://www.w3.org/2018/credentials/v1\",\n            \"https://w3id.org/traceability/v1\"\n        ],\n        \"type\": [\n            \"VerifiablePresentation\",\n            \"TraceablePresentation\"\n        ],\n        \"workflow\": {\n            \"instance\": [\n                \"instance_1\", \n                \"instance_2\"\n            ],\n            \"definition\": [\n                \"definition_1\"\n            ]\n        },\n        \"holder\": \"{{org_2_holder}}\",\n        \"verifiableCredential\": [\n            {{importers_commercial_invoice_vc}}\n        ]\n    },\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_2_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "e53d0665-7507-4c80-84e2-4dc203918898",
              "type": "text/javascript",
              "exec": [
                "const responseJson = pm.response.json();",
                "pm.environment.set(\"freight_forwarders_presentation_of_ci_to_customs\", JSON.stringify(responseJson));",
                "",
                "pm.test(\"Freight Forwarder VP of Commercial Invoice with workflow instances 'instance_1' and 'instance_2' proved\", function () {",
                "    pm.response.to.have.status(201);",
                "});"
              ],
              "_lastExecutionId": "a9bfddff-e9c4-4619-852d-1a6bfcaec891"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "fa8cc5e4-c07d-4ce3-983d-1fc2a6b17cb0",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "9290209f-d20b-4bb2-83e6-d7fdf500953c"
            }
          }
        ]
      },
      {
        "id": "eda5ccac-2085-4f9b-92e9-ffed3644ba58",
        "name": "09 - Freight Forwarder - Present to Customs - (3/3)",
        "request": {
          "url": {
            "path": [
              "presentations",
              "submissions"
            ],
            "host": [
              "{{org_3_tenant_url}}"
            ],
            "query": [],
            "variable": []
          },
          "header": [
            {
              "key": "Accept",
              "value": "application/json"
            }
          ],
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{{freight_forwarders_presentation_of_ci_to_customs}}",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "noauth",
            "noauth": []
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "07f9e1f8-419c-46bf-8f20-25d5f61222ac",
              "type": "text/javascript",
              "exec": [
                "",
                "// The expected response code for a \"Verify Presentation\" request is",
                "// `200 Success`.",
                "pm.test(\"Freight Forwarder has successfully presented Commercial Invoice to Customs\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "// Response should confirm the presentation is verified.",
                "pm.test(\"Commercial Invoice VP verification returned 'true'\", function() {",
                "    const { verified } = pm.response.json()",
                "    pm.expect(verified).to.be.true;",
                "});"
              ],
              "_lastExecutionId": "fc6987c2-02b2-4159-8786-6af0c2d3f6f7"
            }
          },
          {
            "listen": "prerequest",
            "script": {
              "id": "6f466d99-f3bc-496e-9efe-0d5ba12aa635",
              "type": "text/javascript",
              "exec": [
                ""
              ],
              "_lastExecutionId": "dbb749ae-2a85-461b-b2fe-a84f4faa43d3"
            }
          }
        ]
      },
      {
        "id": "a22187a1-055e-4267-85e2-43788956413d",
        "name": "10 - Customs - Verify Commercial Invoice and Join Instances",
        "request": {
          "url": {
            "path": [
              "presentations",
              "verify"
            ],
            "host": [
              "{{ORG_3_BASE_URL}}"
            ],
            "query": [],
            "variable": []
          },
          "method": "POST",
          "body": {
            "mode": "raw",
            "raw": "{\n    \"verifiablePresentation\": {{freight_forwarders_presentation_of_ci_to_customs}},\n    \"options\": {\n        \"domain\": \"{{org_3_domain}}\",\n        \"challenge\": \"{{org_3_challenge}}\"\n    }\n}\n",
            "options": {
              "raw": {
                "language": "json"
              }
            }
          },
          "auth": {
            "type": "bearer",
            "bearer": [
              {
                "type": "string",
                "value": "{{org_3_access_token}}",
                "key": "token"
              }
            ]
          }
        },
        "response": [],
        "event": [
          {
            "listen": "test",
            "script": {
              "id": "15936622-dfa0-48a5-84b9-6d8d8507f618",
              "type": "text/javascript",
              "exec": [
                "pm.test(\"Customs verifies Commercial Invoice\", function () {",
                "    pm.response.to.have.status(200);",
                "});",
                "",
                "var workflowInstances = JSON.parse(pm.environment.get(\"freight_forwarders_presentation_of_ci_to_customs\")).workflow.instance",
                "",
                "pm.test(\"Customs checks known workflow instance ids and join the workflows\", function () {",
                "    pm.expect(workflowInstances[0]).to.eql(pm.environment.get(\"customs_first_workflow_instance_id\"));",
                "    pm.expect(workflowInstances[1]).to.eql(pm.environment.get(\"customs_second_workflow_instance_id\"));",
                "});",
                ""
              ],
              "_lastExecutionId": "9b53ad8a-d6fc-44ab-be1b-66afce7848eb"
            }
          }
        ]
      }
    ]
  },
  "run": {
    "stats": {
      "iterations": {
        "total": 1,
        "pending": 0,
        "failed": 0
      },
      "items": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "scripts": {
        "total": 36,
        "pending": 0,
        "failed": 0
      },
      "prerequests": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "requests": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "tests": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "assertions": {
        "total": 34,
        "pending": 0,
        "failed": 4
      },
      "testScripts": {
        "total": 24,
        "pending": 0,
        "failed": 0
      },
      "prerequestScripts": {
        "total": 12,
        "pending": 0,
        "failed": 0
      }
    },
    "timings": {
      "responseAverage": 4980.333333333333,
      "responseMin": 118,
      "responseMax": 13114,
      "responseSd": 3539.185448502082,
      "dnsAverage": 0,
      "dnsMin": 0,
      "dnsMax": 0,
      "dnsSd": 0,
      "firstByteAverage": 0,
      "firstByteMin": 0,
      "firstByteMax": 0,
      "firstByteSd": 0,
      "started": 1649552909817,
      "completed": 1649553030000
    },
    "executions": [
      {
        "id": "8ea436e1-a556-4c8c-bed5-e2c8303c3423",
        "cursor": {
          "position": 0,
          "iteration": 0,
          "length": 24,
          "cycles": 1,
          "empty": false,
          "eof": false,
          "bof": true,
          "cr": false,
          "ref": "1fe5ea2d-172d-4075-897f-63213fac36ae",
          "httpRequestId": "31fa4cc9-f2f7-4269-ac68-dec964ac36c6"
        },
        "item": {
          "id": "8ea436e1-a556-4c8c-bed5-e2c8303c3423",
          "name": "00 - Importer Access Token"
        },
        "response": {
          "id": "e9e66eb9-c250-4966-90d5-154d610fafa8",
          "status": "OK",
          "code": 200,
          "responseTime": 13114,
          "responseSize": 852
        },
        "assertions": [
          {
            "assertion": "Importer application has access token",
            "skipped": false
          }
        ]
      },
      {
        "id": "cfbbc999-d5f9-43ee-94f2-e20984f20eb0",
        "cursor": {
          "ref": "af5adac5-b288-4ea0-b6d4-273cd6b0a2be",
          "length": 24,
          "cycles": 1,
          "position": 1,
          "iteration": 0,
          "httpRequestId": "8531801b-7a60-44eb-be3e-5afd3e7e723d"
        },
        "item": {
          "id": "cfbbc999-d5f9-43ee-94f2-e20984f20eb0",
          "name": "00 - Freight Forwarder Access Token"
        },
        "response": {
          "id": "50ea8b1f-115c-4f7b-936e-a965236b05cd",
          "status": "OK",
          "code": 200,
          "responseTime": 7153,
          "responseSize": 852
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder application has access token",
            "skipped": false
          }
        ]
      },
      {
        "id": "ab386214-00a9-4f86-948b-1ac3c33533af",
        "cursor": {
          "ref": "1662bf60-dcc4-460a-93f0-6b8694e3b85e",
          "length": 24,
          "cycles": 1,
          "position": 2,
          "iteration": 0,
          "httpRequestId": "83059220-b563-4cfd-86bd-242949fcf6f5"
        },
        "item": {
          "id": "ab386214-00a9-4f86-948b-1ac3c33533af",
          "name": "00 - Customs Access Token"
        },
        "response": {
          "id": "1e3dc482-f0ef-482e-8593-c0e1590ada6b",
          "status": "OK",
          "code": 200,
          "responseTime": 306,
          "responseSize": 852
        },
        "assertions": [
          {
            "assertion": "Customs application has access token",
            "skipped": false
          }
        ]
      },
      {
        "id": "49ee490a-2ddd-4021-8f40-11966c6b9cbd",
        "cursor": {
          "ref": "4c68aa35-68a6-4961-9eee-f758f5a95f6c",
          "length": 24,
          "cycles": 1,
          "position": 3,
          "iteration": 0,
          "httpRequestId": "cd546e4e-75f7-4e4a-836f-251bec794f3b"
        },
        "item": {
          "id": "49ee490a-2ddd-4021-8f40-11966c6b9cbd",
          "name": "00 - Get Importer Exchange Endpoint"
        },
        "response": {
          "id": "3e02f628-392a-425c-8233-aea6f5123690",
          "status": "OK",
          "code": 200,
          "responseTime": 879,
          "responseSize": 1092
        },
        "assertions": [
          {
            "assertion": "Importer has holder DID",
            "skipped": false
          },
          {
            "assertion": "Importer has service endpoint",
            "skipped": false
          }
        ]
      },
      {
        "id": "95deb5dc-8b39-445c-ba96-984f199b30b7",
        "cursor": {
          "ref": "45a2772b-a2b6-4783-88e4-4d0fc8471a78",
          "length": 24,
          "cycles": 1,
          "position": 4,
          "iteration": 0,
          "httpRequestId": "bf4f7a9c-e3f6-46fe-8ab6-669b271fca3e"
        },
        "item": {
          "id": "95deb5dc-8b39-445c-ba96-984f199b30b7",
          "name": "00 - Get Freight Forwarder Exchange Endpoint"
        },
        "response": {
          "id": "bc061f46-817c-4971-8bb6-6985b7f5f5bf",
          "status": "OK",
          "code": 200,
          "responseTime": 1407,
          "responseSize": 1092
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has holder DID",
            "skipped": false
          },
          {
            "assertion": "Freight Forwarder has service endpoint",
            "skipped": false
          }
        ]
      },
      {
        "id": "5b52d0ae-77ab-41f8-a128-c84166fb8310",
        "cursor": {
          "ref": "b44b1ba0-9418-4458-85e4-83a27eb581c5",
          "length": 24,
          "cycles": 1,
          "position": 5,
          "iteration": 0,
          "httpRequestId": "2d0ffe43-2cf9-464d-96c7-00a5536e5964"
        },
        "item": {
          "id": "5b52d0ae-77ab-41f8-a128-c84166fb8310",
          "name": "00 - Get Customs Exchange Endpoint"
        },
        "response": {
          "id": "b4d9b3fb-a59a-44d6-9158-ebb1ac369f67",
          "status": "OK",
          "code": 200,
          "responseTime": 2352,
          "responseSize": 1092
        },
        "assertions": [
          {
            "assertion": "Customs has holder DID",
            "skipped": false
          },
          {
            "assertion": "Customs has service endpoint",
            "skipped": false
          }
        ]
      },
      {
        "id": "5c4cdf78-e5a1-4a06-b747-e64b0fb80b64",
        "cursor": {
          "ref": "4752a233-8c8a-4f7f-86fb-527b50a369e0",
          "length": 24,
          "cycles": 1,
          "position": 6,
          "iteration": 0,
          "httpRequestId": "fb0d87f9-4165-44f2-8608-eb2c90c7ac2e"
        },
        "item": {
          "id": "5c4cdf78-e5a1-4a06-b747-e64b0fb80b64",
          "name": "01 - Importer - Issue Proforma Invoice"
        },
        "response": {
          "id": "fdb18a3f-6ebe-4c5a-b441-bd0b63150d04",
          "status": "Created",
          "code": 201,
          "responseTime": 5517,
          "responseSize": 3383
        },
        "assertions": [
          {
            "assertion": "Proforma Invoice VC issued",
            "skipped": false
          }
        ]
      },
      {
        "id": "002c55bf-9e2c-4d3e-9360-a6b35fe7f366",
        "cursor": {
          "ref": "26cb839d-cbb0-4f85-a9da-018593c3feb5",
          "length": 24,
          "cycles": 1,
          "position": 7,
          "iteration": 0,
          "httpRequestId": "c8053021-6bf4-4411-91d0-a0aaef7bb53d"
        },
        "item": {
          "id": "002c55bf-9e2c-4d3e-9360-a6b35fe7f366",
          "name": "02 - Importer - Present to Customs - (1/3)"
        },
        "response": {
          "id": "a1eef66b-bfb2-4219-a5cc-4c734ac4a6c2",
          "status": "OK",
          "code": 200,
          "responseTime": 118,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Importer has authenticated to Customs",
            "skipped": false
          }
        ]
      },
      {
        "id": "80782864-0ec0-47a2-97ce-ebad76f4ad08",
        "cursor": {
          "ref": "47eeb0f7-a261-4ded-98d3-54c23ad0eb6e",
          "length": 24,
          "cycles": 1,
          "position": 8,
          "iteration": 0,
          "httpRequestId": "1843b88f-50de-4dd2-93a6-334f9b0a3f44"
        },
        "item": {
          "id": "80782864-0ec0-47a2-97ce-ebad76f4ad08",
          "name": "02 - Importer - Present to Customs - (2/3)"
        },
        "response": {
          "id": "c51c78e2-f7a3-4fc7-8a01-9d893ef7851a",
          "status": "OK",
          "code": 200,
          "responseTime": 6375,
          "responseSize": 4181
        },
        "assertions": [
          {
            "assertion": "Importer VP of Proforma Invoice with workflow instance 'instance_1' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Importer VP of Proforma Invoice with workflow instance 'instance_1' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:9)"
            }
          }
        ]
      },
      {
        "id": "df1ff4a3-1276-4920-8eec-3048bde600ae",
        "cursor": {
          "ref": "2993d86a-a322-4dc8-88cc-106717af0176",
          "length": 24,
          "cycles": 1,
          "position": 9,
          "iteration": 0,
          "httpRequestId": "5af8076e-a49c-4cf6-b77f-30a331888a2d"
        },
        "item": {
          "id": "df1ff4a3-1276-4920-8eec-3048bde600ae",
          "name": "02 - Importer - Present to Customs - (3/3)"
        },
        "response": {
          "id": "2b79b937-28d4-494d-a728-b9884590faac",
          "status": "OK",
          "code": 200,
          "responseTime": 7484,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Importer has successfully presented Proforma Invoice to Customs",
            "skipped": false
          },
          {
            "assertion": "Proforma Invoice VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "7c11eea7-fe67-49d1-a0b1-1857bf0db785",
        "cursor": {
          "ref": "bdaf1280-4f1d-400d-ad2c-5ab303bfc4be",
          "length": 24,
          "cycles": 1,
          "position": 10,
          "iteration": 0,
          "httpRequestId": "b8c90126-4e4a-4153-a1b3-437ea7092b1d"
        },
        "item": {
          "id": "7c11eea7-fe67-49d1-a0b1-1857bf0db785",
          "name": "03 - Customs - Verify Proforma Invoice"
        },
        "response": {
          "id": "612a7b32-91a6-4e50-8a0d-beee0f7d199d",
          "status": "OK",
          "code": 200,
          "responseTime": 7907,
          "responseSize": 2800
        },
        "assertions": [
          {
            "assertion": "Customs verifies Proforma Invoice",
            "skipped": false
          },
          {
            "assertion": "Customs stores first workflow instance id: instance_1",
            "skipped": false
          }
        ]
      },
      {
        "id": "23a4f36e-4212-4197-93f1-14be5cef9889",
        "cursor": {
          "ref": "22b90b86-6191-4c45-8653-d14922612fae",
          "length": 24,
          "cycles": 1,
          "position": 11,
          "iteration": 0,
          "httpRequestId": "b36142b6-3963-4240-a4cf-fe9e83aee3fb"
        },
        "item": {
          "id": "23a4f36e-4212-4197-93f1-14be5cef9889",
          "name": "04 - Freight Forwarder - Issue House Waybill"
        },
        "response": {
          "id": "a4bbe5e4-6dc5-4a4b-8ef9-790d1d5b85c5",
          "status": "Created",
          "code": 201,
          "responseTime": 3668,
          "responseSize": 3507
        },
        "assertions": [
          {
            "assertion": "House Bill of Lading VC issued",
            "skipped": false
          }
        ]
      },
      {
        "id": "1a6367d4-072d-4be8-85e1-8afb4ae88257",
        "cursor": {
          "ref": "c841a05c-e71f-41e7-b524-0a05c88ac7ed",
          "length": 24,
          "cycles": 1,
          "position": 12,
          "iteration": 0,
          "httpRequestId": "d724fc5d-2bad-495d-a36b-dddccc2d9319"
        },
        "item": {
          "id": "1a6367d4-072d-4be8-85e1-8afb4ae88257",
          "name": "05 - Freight Forwarder - Present to Customs - (1/3)"
        },
        "response": {
          "id": "8d435c02-7c99-41e0-8ebe-7325d6d45386",
          "status": "OK",
          "code": 200,
          "responseTime": 122,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has authenticated to Customs",
            "skipped": false
          }
        ]
      },
      {
        "id": "b5cdbee9-45ea-4788-8cab-aca77d3f3c23",
        "cursor": {
          "ref": "256712ec-68be-4f4a-a035-5bf33cd18fb8",
          "length": 24,
          "cycles": 1,
          "position": 13,
          "iteration": 0,
          "httpRequestId": "b3e0ab55-6da6-4ef2-8244-101b7c06ca19"
        },
        "item": {
          "id": "b5cdbee9-45ea-4788-8cab-aca77d3f3c23",
          "name": "05 - Freight Forwarder - Present to Customs - (2/3)"
        },
        "response": {
          "id": "0867bdc0-853d-4ff4-8eed-4a705e257853",
          "status": "OK",
          "code": 200,
          "responseTime": 6488,
          "responseSize": 4305
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder VP of House Bill of Lading with workflow instance 'instance_2' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Freight Forwarder VP of House Bill of Lading with workflow instance 'instance_2' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:14)"
            }
          }
        ]
      },
      {
        "id": "4d44f895-12eb-4699-90d1-17e030c6aae0",
        "cursor": {
          "ref": "88537bff-a700-4590-807b-a225e706137a",
          "length": 24,
          "cycles": 1,
          "position": 14,
          "iteration": 0,
          "httpRequestId": "6c64f6dd-a738-4868-b34a-c7ee3d60b44e"
        },
        "item": {
          "id": "4d44f895-12eb-4699-90d1-17e030c6aae0",
          "name": "05 - Freight Forwarder - Present to Customs - (3/3)"
        },
        "response": {
          "id": "10b786fa-5b43-4cc6-80bd-45f456419fdd",
          "status": "OK",
          "code": 200,
          "responseTime": 8082,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has successfully presented House Bill of Lading to Customs",
            "skipped": false
          },
          {
            "assertion": "House Bill of Lading VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "7889bbb3-8cbb-4c9b-9b34-ee9f21abb5c9",
        "cursor": {
          "ref": "84972868-9491-4d53-a8f7-2cd51234fe5d",
          "length": 24,
          "cycles": 1,
          "position": 15,
          "iteration": 0,
          "httpRequestId": "6925b3bf-fa0f-407a-a70f-85fa9208d638"
        },
        "item": {
          "id": "7889bbb3-8cbb-4c9b-9b34-ee9f21abb5c9",
          "name": "06 - Customs - Verify House Waybill"
        },
        "response": {
          "id": "7df74870-13d3-4c1c-8263-d20b427825b1",
          "status": "OK",
          "code": 200,
          "responseTime": 7841,
          "responseSize": 2874
        },
        "assertions": [
          {
            "assertion": "Customs verifies House Bill of Lading",
            "skipped": false
          },
          {
            "assertion": "Customs stores first workflow instance id: instance_2",
            "skipped": false
          }
        ]
      },
      {
        "id": "433769ea-cb81-406b-a8e2-f6b8a49f938e",
        "cursor": {
          "ref": "fd5b16fa-a089-4540-8c33-5b3863349c71",
          "length": 24,
          "cycles": 1,
          "position": 16,
          "iteration": 0,
          "httpRequestId": "0cd9770d-39f4-4235-bfb2-284fdb7d815c"
        },
        "item": {
          "id": "433769ea-cb81-406b-a8e2-f6b8a49f938e",
          "name": "07 - Importer - Issue Commercial Invoice"
        },
        "response": {
          "id": "04698867-bb89-4daa-8283-3d8f6a58f404",
          "status": "Created",
          "code": 201,
          "responseTime": 3362,
          "responseSize": 3447
        },
        "assertions": [
          {
            "assertion": "Commercial Invoice VC issued",
            "skipped": false
          }
        ]
      },
      {
        "id": "0bff27ef-ee58-4406-9bfa-78c0b76ec629",
        "cursor": {
          "ref": "338237a2-ccd9-4593-b560-6d830e7739fb",
          "length": 24,
          "cycles": 1,
          "position": 17,
          "iteration": 0,
          "httpRequestId": "605caea3-de38-484c-980b-357b10930443"
        },
        "item": {
          "id": "0bff27ef-ee58-4406-9bfa-78c0b76ec629",
          "name": "08 - Importer - Present to Freight Forwarder - (1/3)"
        },
        "response": {
          "id": "b20bff98-fecf-4d2c-ba05-b3056d1a2735",
          "status": "OK",
          "code": 200,
          "responseTime": 125,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Importer has authenticated to Freight Forwarder",
            "skipped": false
          }
        ]
      },
      {
        "id": "6c269d33-c4ce-4b7e-a212-60f5a7090602",
        "cursor": {
          "ref": "f5350542-710e-4d28-a2ee-6d98731929f4",
          "length": 24,
          "cycles": 1,
          "position": 18,
          "iteration": 0,
          "httpRequestId": "3efac3e1-1c07-4d79-9ef1-fe6f7340f5e4"
        },
        "item": {
          "id": "6c269d33-c4ce-4b7e-a212-60f5a7090602",
          "name": "08 - Importer - Present to Freight Forwarder - (2/3)"
        },
        "response": {
          "id": "6c8b9450-c736-464d-8b0d-33ed2a8a2393",
          "status": "OK",
          "code": 200,
          "responseTime": 6044,
          "responseSize": 4245
        },
        "assertions": [
          {
            "assertion": "Importer VP of Commercial Invoice with workflow instance 'instance_1' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Importer VP of Commercial Invoice with workflow instance 'instance_1' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:19)"
            }
          }
        ]
      },
      {
        "id": "328e538f-ab8e-4265-8afd-78fd96574e35",
        "cursor": {
          "ref": "fcb6b969-ca95-4689-be23-e420ab6890a8",
          "length": 24,
          "cycles": 1,
          "position": 19,
          "iteration": 0,
          "httpRequestId": "15c09d7b-895c-4218-94e1-91730ebf6231"
        },
        "item": {
          "id": "328e538f-ab8e-4265-8afd-78fd96574e35",
          "name": "08 - Importer - Present to Freight Forwarder - (3/3)"
        },
        "response": {
          "id": "426a796f-320a-443a-ac45-c4a858ce816b",
          "status": "OK",
          "code": 200,
          "responseTime": 7691,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Importer has successfully presented Commercial Invoice to Customs",
            "skipped": false
          },
          {
            "assertion": "Commercial Invoice VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "c85a0e79-6b3b-4b49-8bf4-3c1d727a0ae5",
        "cursor": {
          "ref": "62804f9c-431c-4c62-bb99-e059d5d2ee24",
          "length": 24,
          "cycles": 1,
          "position": 20,
          "iteration": 0,
          "httpRequestId": "5c1cf33a-7b08-4beb-998a-a81275e6d47b"
        },
        "item": {
          "id": "c85a0e79-6b3b-4b49-8bf4-3c1d727a0ae5",
          "name": "09 - Freight Forwarder - Present to Customs - (1/3)"
        },
        "response": {
          "id": "9c3c9fcb-2b72-445e-afce-9be95acd63bc",
          "status": "OK",
          "code": 200,
          "responseTime": 129,
          "responseSize": 234
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has authenticated to Customs",
            "skipped": false
          }
        ]
      },
      {
        "id": "cebadb27-c9df-4cd8-b05a-725747720810",
        "cursor": {
          "ref": "9e21a162-b270-4bd8-8b4e-ab5b735cbadb",
          "length": 24,
          "cycles": 1,
          "position": 21,
          "iteration": 0,
          "httpRequestId": "b51e3a3f-d89d-4645-a230-c2b942a0af79"
        },
        "item": {
          "id": "cebadb27-c9df-4cd8-b05a-725747720810",
          "name": "09 - Freight Forwarder - Present to Customs - (2/3)"
        },
        "response": {
          "id": "00f62d6f-bc6c-4074-8863-b803c04bcec8",
          "status": "OK",
          "code": 200,
          "responseTime": 6534,
          "responseSize": 4258
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder VP of Commercial Invoice with workflow instances 'instance_1' and 'instance_2' proved",
            "skipped": false,
            "error": {
              "name": "AssertionError",
              "index": 0,
              "test": "Freight Forwarder VP of Commercial Invoice with workflow instances 'instance_1' and 'instance_2' proved",
              "message": "expected response to have status code 201 but got 200",
              "stack": "AssertionError: expected response to have status code 201 but got 200\n   at Object.eval sandbox-script.js:1:22)"
            }
          }
        ]
      },
      {
        "id": "eda5ccac-2085-4f9b-92e9-ffed3644ba58",
        "cursor": {
          "ref": "2db9121a-c32c-4c77-ac1d-74d2bb277faa",
          "length": 24,
          "cycles": 1,
          "position": 22,
          "iteration": 0,
          "httpRequestId": "53d191b8-5632-40ad-b7c4-27a87a991512"
        },
        "item": {
          "id": "eda5ccac-2085-4f9b-92e9-ffed3644ba58",
          "name": "09 - Freight Forwarder - Present to Customs - (3/3)"
        },
        "response": {
          "id": "18da3a56-3a17-41d6-9b5e-c1b9178afdcb",
          "status": "OK",
          "code": 200,
          "responseTime": 9146,
          "responseSize": 17
        },
        "assertions": [
          {
            "assertion": "Freight Forwarder has successfully presented Commercial Invoice to Customs",
            "skipped": false
          },
          {
            "assertion": "Commercial Invoice VP verification returned 'true'",
            "skipped": false
          }
        ]
      },
      {
        "id": "a22187a1-055e-4267-85e2-43788956413d",
        "cursor": {
          "ref": "1c10c973-dcea-4f58-b835-ba6e9a3c25d6",
          "length": 24,
          "cycles": 1,
          "position": 23,
          "iteration": 0,
          "httpRequestId": "e67b2368-67c5-4675-adb4-eaf3dd16ea63"
        },
        "item": {
          "id": "a22187a1-055e-4267-85e2-43788956413d",
          "name": "10 - Customs - Verify Commercial Invoice and Join Instances"
        },
        "response": {
          "id": "72086ff5-7146-4ea4-9a04-6d3636dfa250",
          "status": "OK",
          "code": 200,
          "responseTime": 7684,
          "responseSize": 2874
        },
        "assertions": [
          {
            "assertion": "Customs verifies Commercial Invoice",
            "skipped": false
          },
          {
            "assertion": "Customs checks known workflow instance ids and join the workflows",
            "skipped": false
          }
        ]
      }
    ]
  }
}